<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0" id="viewport-meta">
    <title>üå§Ô∏è Futuristik√° Poƒças√≠ Stanice - Admir√°l Ji≈ô√≠k & Claude.AI</title>
    <style>
/* --- Glob√°ln√≠ styly a styly pro Page 1 (Futuristick√° Poƒças√≠ Stanice) --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            height: 100%;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(90deg, #1e3a8a, #3b82f6);
            color: #e2e8f0;
            /* ZMƒöNA: Odebr√°n min-height: 100vh a flex layout z body */
            transition: background 0.5s ease;
            margin: 0;
            padding: 0;
        }

        /* Styly pro navigaci */
        nav {
            background-color: linear-gradient(90deg, #1e3a8a, #3b82f6);
            padding: 10px;
            text-align: center;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        nav button {
            background-color: #3498db;
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            margin: 0 8px;
            border-radius: 8px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-size: 1rem;
            font-weight: bold;
        }

        nav button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }

        /* Styly pro p≈ôep√≠n√°n√≠ str√°nek */
        .page {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
            /* ZMƒöNA: Odebr√°n flex a min-height, p≈ôid√°n norm√°ln√≠ padding */
            padding: 0 20px 40px 20px;
            width: 100%;
        }

        .page.active {
            display: block; /* ZMƒöNA: Vr√°ceno zpƒõt na block */
            opacity: 1;
            transform: translateY(0);
        }

        /* Styly pro kontejner prvn√≠ str√°nky */
        #page-home .container {
              width: 90%;              /* Zabere 90 % ≈°√≠≈ôky rodiƒçe */
  max-width: 1200px;       /* Nep≈ôes√°hne 1200px */
            margin: 0 auto;
            background: linear-gradient(90deg, #1e3a8a, #3b82f6);
            border-radius: 20px;
            border: 2px solid #3b82f6;
            box-shadow: 0 0 30px rgba(30, 58, 138, 0.3);
            overflow: hidden;
            backdrop-filter: blur(10px);
            animation: glow 3s ease-in-out infinite alternate;
            padding-bottom: 20px;
            /* ZMƒöNA: Odebr√°n flex z kontejneru */
        }

        @keyframes glow {
            0% { box-shadow: 0 0 30px linear-gradient(90deg, #1e3a8a, #3b82f6); }
            100% { box-shadow: 0 0 50px linear-gradient(90deg, #1e3a8a, #3b82f6); }
        }

        #page-home .header {
            background: linear-gradient(90deg, #1e3a8a, #3b82f6);
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        #page-home .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
             
           
             
         
        }

        #page-home .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
            text-shadow: 0 0 20px linear-gradient(90deg, #1e3a8a, #3b82f6);
        }

        #page-home .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }

        #page-home .main-content {
            padding: 30px;
            /* ZMƒöNA: Odebr√°n flex layout z main-content */
        }

        #page-home .search-section {
            background: linear-gradient(90deg, #1e3a8a, #3b82f6);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 51, 102, 0.7);
        }

        #page-home .search-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
            margin-bottom: 20px;
        }

        #page-home .search-input {
            flex: 1;
            min-width: 200px;
            padding: 15px 20px;
            border: 2px solid #3b82f6;
            border-radius: 10px;
            background: rgba(0, 51, 102, 0.7);
            color: #e2e8f0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        #page-home .search-input:focus {
            outline: none;
            border-color: #60a5fa;
            box-shadow: 0 0 20px rgba(0, 51, 102, 0.7);
        }

        #page-home .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        #page-home .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
        }

        #page-home .btn:active {
            transform: translateY(0);
        }

        #page-home .btn.secondary {
            background: linear-gradient(135deg, #64748b, #475569);
        }

        #page-home .btn.secondary:hover {
            background: linear-gradient(135deg, #94a3b8, #64748b);
        }

        #page-home .btn.danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        #page-home .btn.danger:hover {
            background: linear-gradient(135deg, #f87171, #ef4444);
        }

        #page-home .favorites-section {
            background: linear-gradient(90deg, #1e3a8a, #3b82f6);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(0, 51, 102, 0.7);
        }

        #page-home .favorites-section h3 {
            margin-bottom: 20px;
            color: #60a5fa;
            font-size: 1.3rem;
        }

        #page-home .favorites-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        #page-home .favorites-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        #page-home .favorite-item {
            display: flex;
            gap: 10px;
            align-items: center;
            background: rgba(0, 51, 102, 0.7);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(0, 51, 102, 0.7);
        }

        #page-home .favorite-btn {
            flex: 1;
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        #page-home .favorite-btn:hover {
            background: linear-gradient(135deg, #34d399, #10b981);
            transform: translateY(-1px);
        }

        #page-home .remove-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }

        #page-home .remove-btn:hover {
            background: linear-gradient(135deg, #f87171, #ef4444);
            transform: scale(1.1);
        }

        #page-home .message {
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: 500;
            display: none;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #page-home .error-message {
            background: rgba(0, 51, 102, 0.7);
            border: 1px solid #ef4444;
            color: #fca5a5;
        }

        #page-home .success-message {
            background: rgba(0, 51, 102, 0.7);
            border: 1px solid #10b981;
            color: #6ee7b7;
        }

        #page-home .loading-message {
            background: rgba(0, 51, 102, 0.7);
            border: 1px solid #3b82f6;
            color: #93c5fd;
            text-align: center;
            display: none;
        }

        #page-home .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 51, 102, 0.7);
            border-radius: 50%;
            border-top-color: #3b82f6;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        #page-home .weather-info {
            margin-top: 30px;
            font-size: 1.2em;
            line-height: 1.6;
            text-align: left;
            border-top: 1px solid #3a4a60;
            padding-top: 20px;
            display: none;
            overflow-x: auto;
            background-color: #1a2a40;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 51, 102, 0.7);
            border: none;
        }
        
        #page-home .weather-info h2 {
            color: #61dafb;
            margin-bottom: 25px;
            font-size: 2.2em;
            text-align: center;
            text-shadow: none;
        }
        
        #page-home .weather-info h3 {
            color: #61dafb;
            margin: 20px 0 15px 0;
            font-size: 1.3em;
        }

        #page-home .current-conditions-table,
        #page-home .forecast-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: #0f1825;
            border-radius: 0;
            overflow: hidden;
            border: none;
        }

        #page-home .current-conditions-table th,
        #page-home .current-conditions-table td,
        #page-home .forecast-table th,
        #page-home .forecast-table td {
            border: 1px solid #3a4a60;
            padding: 12px;
            text-align: center;
            border-bottom: none;
        }

        #page-home .current-conditions-table th,
        #page-home .forecast-table th {
            background-color: #2a3a50;
            color: #61dafb;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9em;
        }

        #page-home .current-conditions-table tbody tr:nth-child(even),
        #page-home .forecast-table tbody tr:nth-child(even) {
            background-color: #1a2a40;
        }

        #page-home .current-conditions-table td,
        #page-home .forecast-table td {
            font-size: 0.95em;
        }

        /* Weather icon for page-home (inline with text) */
        #page-home .weather-icon {
            font-size: 1.5em;
            line-height: 1;
            display: inline-block;
            vertical-align: middle;
            margin-right: 5px;
        }

        #page-home .current-conditions-table td:first-child {
            text-align: left;
            font-weight: bold;
            color: #a0c2e8;
        }
        
        #page-home .current-conditions-table td:last-child {
            text-align: right;
            color: #e0e0e0;
            font-weight: normal;
        }

        #page-home .debug-section {
            background: rgba(0, 51, 102, 0.7);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border: 1px solid rgba(0, 51, 102, 0.7);
            display: none;
        }

        #page-home .debug-section h3 {
            color: #94a3b8;
            margin-bottom: 15px;
        }

        #page-home .debug-section pre {
            background: rgba(0, 51, 102, 0.7);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 12px;
            color: #cbd5e1;
            border: 1px solid rgba(0, 51, 102, 0.7);
        }

        /* Modal styling (shared) */
        .custom-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .custom-modal.visible {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e3a8a, #0f1825);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #3b82f6;
            box-shadow: 0 0 50px rgba(0, 51, 102, 0.7);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .modal-message {
            margin-bottom: 25px;
            font-size: 1.1rem;
            color: #e2e8f0;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        
        /* ===== FUTURISTICK√ù CSS PRO PROJEKT SPR√ÅVY HESEL - ADMIRAL JI≈ò√çK & CLAUDE ===== */

/* Z√°kladn√≠ styl pro page-about s night mode */
#page-about.night-mode {
    background: linear-gradient(135deg, #1e3a8a, #0f1825);
    position: relative;
    overflow: hidden;
}

/* Animovan√Ω pozad√≠ efekt */
#page-about.night-mode::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
    animation: backgroundPulse 8s ease-in-out infinite;
    z-index: -1;
}

@keyframes backgroundPulse {
    0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.8; }
    50% { transform: scale(1.1) rotate(2deg); opacity: 1; }
}

/* Hlavn√≠ nadpis s vylep≈°en√Ωm efektem */
#page-about h1 {
     color: aquamarine;
    margin-bottom: 1.5rem;
    text-align: center;
    font-weight: 700;
    letter-spacing: 2px;
    position: relative;
     
}

 

/* Kontejner pro vstupy s vylep≈°en√Ωm designem */
#page-about .input-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    width: 100%;
    max-width: 100%;
    margin-bottom: 1rem;
    text-align: center;
    gap: 10px;
    padding: 10px;
}

/* Vylep≈°en√© styly pro inputy, buttony a selecty */
#page-about input,
#page-about button,
#page-about select {
    padding: 0.8rem 1rem;
    font-size: 1rem;
    margin: 0.5rem;
    border-radius: 12px;
    border: none;
    text-align: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    font-weight: 500;
}

/* Input pole s futuristick√Ωm vzhledem */
#page-about input {
    flex-grow: 1;
    min-width: 200px;
    border: 2px solid #0ff;
    background: linear-gradient(135deg, #1e3a8a, #0f1825);
    color: #fff;
    box-shadow: 
        0 0 10px rgba(0, 255, 255, 0.3),
        inset 0 1px 3px rgba(255, 255, 255, 0.1);
    text-align: center;
    backdrop-filter: blur(5px);
}

#page-about input::placeholder {
    color: rgba(0, 255, 255, 0.6);
    font-style: italic;
}

#page-about input:focus {
    outline: none;
    border-color: #00e6e6;
    box-shadow: 
        0 0 20px rgba(0, 255, 255, 0.5),
        0 0 30px rgba(0, 255, 255, 0.2),
        inset 0 1px 3px rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

/* Vylep≈°en√© buttony s hover efekty */
#page-about button {
    background: linear-gradient(135deg, #0ff, #00b8d4);
    color: #001f3f;
    cursor: pointer;
    font-weight: bold;
    min-width: 140px;
    box-shadow: 
        0 4px 15px rgba(0, 255, 255, 0.3),
        inset 0 1px 3px rgba(255, 255, 255, 0.3);
    text-align: center;
    position: relative;
    overflow: hidden;
}

#page-about button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.5s;
}

#page-about button:hover::before {
    left: 100%;
}

#page-about button:hover {
    background: linear-gradient(135deg, #00e6e6, #0097a7);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 
        0 8px 25px rgba(0, 255, 255, 0.4),
        inset 0 1px 3px rgba(255, 255, 255, 0.4);
}

#page-about button:active {
    transform: translateY(-1px) scale(0.98);
}

/* Vylep≈°en√Ω forecast div s lep≈°√≠m designem */
#page-about #forecastDivPage2 {
    margin-top: 1rem;
    padding: 2rem;
    background:  ;
    border-radius: 15px;
    max-width: 100%;
    width: 100%;
    box-shadow: 
        0 10px 30px rgba(0, 255, 0, 0.2),
        inset 0 1px 3px rgba(0, 255, 0, 0.1);
    border: 2px solid rgba(0, 255, 0, 0.3);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    text-align: center;
    color: #b0ffb0;
    backdrop-filter: blur(10px);
}

/* Vylep≈°en√Ω shine efekt */
#page-about #forecastDivPage2:before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 200%;
    height: 100%;
     
     
}

@keyframes shine {
    0% { transform: translateX(-100%) skewX(-25deg); }
    100% { transform: translateX(200%) skewX(-25deg); }
}

/* Hover efekt pro forecast div */
#page-about #forecastDivPage2:hover {
     
    box-shadow: 
        0 15px 40px rgba(0, 255, 0, 0.3),
        inset 0 1px 5px rgba(0, 255, 0, 0.2);
    border-color: rgba(0, 255, 0, 0.5);
}

/* Nadpis tabulky s lep≈°√≠m stylem */
#page-about #forecastDivPage2 h2 {
    margin-top: 0;
    border-bottom: 2px solid rgba(0, 255, 0, 0.3);
    padding-bottom: 0.8rem;
    text-align: center;
    font-size: 1.5rem;
    color: #99ff99;
    text-shadow: 
        0 0 8px rgba(0, 255, 0, 0.6),
        0 0 15px rgba(0, 255, 0, 0.3);
    font-weight: 600;
    letter-spacing: 1px;
    position: relative;
    z-index: 1;
}

/* Alert s vylep≈°en√Ωm designem */
#page-about .alert {
    color: #ff6b6b;
    font-weight: bold;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(255, 0, 0, 0.15), rgba(255, 0, 0, 0.1));
    border-radius: 10px;
    margin-top: 1rem;
    text-align: center;
    border: 2px solid rgba(255, 107, 107, 0.4);
    box-shadow: 0 5px 15px rgba(255, 0, 0, 0.2);
    backdrop-filter: blur(5px);
    animation: alertPulse 2s ease-in-out infinite;
}

@keyframes alertPulse {
    0%, 100% { border-color: rgba(255, 107, 107, 0.4); }
    50% { border-color: rgba(255, 107, 107, 0.8); }
}

/* Weather icon s vylep≈°enou animac√≠ */
#page-about .weather-icon {
    font-size: 4rem;
    text-align: center;
    display: block;
    margin: 1rem 0;
    animation: weatherFloat 4s ease-in-out infinite;
    text-shadow: 
        0 0 15px rgba(255, 255, 255, 0.8),
        0 0 30px rgba(255, 255, 255, 0.4);
    filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
}

@keyframes weatherFloat {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-15px) rotate(2deg); }
    75% { transform: translateY(-5px) rotate(-1deg); }
}

/* Weather row s lep≈°√≠m designem */
#page-about .weather-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0.8rem 0;
    padding: 0.8rem;
    border-bottom: 1px solid rgba(0, 255, 255, 0.2);
    text-align: center;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 8px;
    transition: all 0.3s ease;
    backdrop-filter: blur(3px);
}

#page-about .weather-row:hover {
    background: rgba(0, 255, 255, 0.1);
    transform: translateX(10px);
    box-shadow: 0 2px 8px rgba(0, 255, 255, 0.2);
}

/* Weather label s lep≈°√≠m stylem */
#page-about .weather-label {
    font-weight: 600;
    text-align: center;
    color: #0ff;
    text-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
}

/* Loading animace */
#page-about .loading {
    animation: loadingPulse 1.5s infinite;
    text-align: center;
    font-size: 1.1rem;
    color: #0ff;
}

@keyframes loadingPulse {
    0%, 100% { opacity: 0.6; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
}

/* Tips s vylep≈°en√Ωm designem */
#page-about .tips {
    margin-top: 1.5rem;
    padding: 1.2rem;
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.15), rgba(0, 255, 255, 0.1));
    border-radius: 12px;
    border-left: 4px solid #0ff;
    font-style: italic;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 255, 255, 0.1);
    position: relative;
    backdrop-filter: blur(5px);
}

#page-about .tips::before {
    content: "üí°";
    position: absolute;
    top: -10px;
    left: 20px;
    font-size: 1.5rem;
    background: linear-gradient(135deg, #1e3a8a, #0f1825);
    padding: 5px;
    border-radius: 50%;
}

/* Forecast section s lep≈°√≠m designem */
#page-about .forecast-section {
    margin-top: 2rem;
    border-top: 2px dashed rgba(0, 255, 255, 0.4);
    padding-top: 1.5rem;
    text-align: center;
    position: relative;
}

#page-about .forecast-title {
    font-weight: bold;
    margin-bottom: 1rem;
    text-align: center;
    color: #0ff;
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    font-size: 1.3rem;
    letter-spacing: 1px;
}

/* Daily forecast s vylep≈°en√Ωm scrollem */
#page-about .daily-forecast {
    display: flex;
    overflow-x: auto;
    gap: 15px;
    padding: 15px 0;
    scroll-behavior: smooth;
    text-align: center;
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 255, 255, 0.5) transparent;
}

#page-about .daily-forecast::-webkit-scrollbar {
    height: 8px;
}

#page-about .daily-forecast::-webkit-scrollbar-track {
    background: rgba(0, 255, 255, 0.1);
    border-radius: 10px;
}

#page-about .daily-forecast::-webkit-scrollbar-thumb {
    background: linear-gradient(90deg, #0ff, #00b8d4);
    border-radius: 10px;
}

/* Forecast day s lep≈°√≠mi efekty */
#page-about .forecast-day {
    min-width: 120px;
    text-align: center;
    padding: 15px;
    border-radius: 15px;
    background: linear-gradient(135deg, rgba(0, 51, 102, 0.8), rgba(0, 51, 102, 0.6));
    border: 2px solid rgba(0, 255, 255, 0.3);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
}

#page-about .forecast-day::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), transparent);
    opacity: 0;
    transition: opacity 0.3s ease;
}

#page-about .forecast-day:hover::before {
    opacity: 1;
}

#page-about .forecast-day:hover {
    transform: translateY(-10px) scale(1.05);
    box-shadow: 0 15px 30px rgba(0, 255, 255, 0.4);
    border-color: rgba(0, 255, 255, 0.6);
}

/* Day name styling */
#page-about .day-name {
    font-weight: 600;
    margin-bottom: 8px;
    text-align: center;
    color: #0ff;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Forecast icon */
#page-about .forecast-icon {
    font-size: 2.5rem;
    margin: 10px 0;
    text-align: center;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    animation: iconFloat 3s ease-in-out infinite;
}

@keyframes iconFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* Temperature range */
#page-about .temp-range {
    font-size: 0.95rem;
    text-align: center;
    font-weight: 500;
    color: #b0ffb0;
}

/* Settings row s vylep≈°en√Ωm layoutem */
#page-about .settings-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1.5rem;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(0, 51, 102, 0.8), rgba(0, 51, 102, 0.6));
    border-radius: 15px;
    width: 90%;
    max-width: 1200px;
    text-align: center;
    border: 2px solid rgba(0, 255, 255, 0.2);
    box-shadow: 0 5px 15px rgba(0, 51, 102, 0.3);
    backdrop-filter: blur(10px);
    margin-left: auto;
    margin-right: auto;
}

/* Toggle container */
#page-about .toggle-container {
    display: flex;
    align-items: center;
    text-align: center;
    width: 90%;
    max-width: 1200px;
    gap: 15px;
}

#page-about .toggle-label {
    margin-right: 15px;
    font-size: 1rem;
    text-align: center;
    font-weight: 500;
    color: #0ff;
}

/* Vylep≈°en√Ω toggle switch */
#page-about .toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
    text-align: center;
}

#page-about .toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
    text-align: center;
}

#page-about .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0, 51, 102, 0.8), rgba(0, 51, 102, 0.6));
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 30px;
    border: 2px solid rgba(0, 255, 255, 0.4);
    text-align: center;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

#page-about .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 2px;
    background: linear-gradient(135deg, #fff, #e0e0e0);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 50%;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

#page-about input:checked + .slider {
    background: linear-gradient(135deg, #0ff, #00b8d4);
    border-color: rgba(0, 255, 255, 0.8);
    box-shadow: 
        inset 0 2px 4px rgba(0, 0, 0, 0.2),
        0 0 10px rgba(0, 255, 255, 0.3);
}

#page-about input:checked + .slider:before {
    transform: translateX(30px);
    background: linear-gradient(135deg, #fff, #f0f0f0);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

/* Select s lep≈°√≠m stylem */
#page-about select {
    background: linear-gradient(135deg, rgba(0, 51, 102, 0.8), rgba(0, 51, 102, 0.6));
    color: #0ff;
    border: 2px solid rgba(0, 255, 255, 0.3);
    border-radius: 10px;
    padding: 0.8rem;
    backdrop-filter: blur(5px);
    cursor: pointer;
    transition: all 0.3s ease;
}

#page-about select:focus {
    outline: none;
    border-color: rgba(0, 255, 255, 0.6);
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

/* Last updated div */
#page-about #lastUpdatedDivPage2 {
    margin-top: 1.5rem;
    font-size: 0.9rem;
    opacity: 0.8;
    text-align: center;
    font-style: italic;
    color: rgba(0, 255, 255, 0.7);
    background: rgba(0, 255, 255, 0.05);
    padding: 0.5rem;
    border-radius: 8px;
    border: 1px solid rgba(0, 255, 255, 0.2);
}

/* Favorites container */
#page-about .favorites-container {
    margin-top: 2rem;
    width: 100%;
    max-width: 100%;
    text-align: center;
    padding: 1rem;
    background: rgba(0, 255, 255, 0.05);
    border-radius: 15px;
    border: 2px solid rgba(0, 255, 255, 0.2);
}

#page-about .favorites-title {
    font-size: 1.2rem;
    margin-bottom: 1rem;
    text-align: center;
    color: #0ff;
    font-weight: 600;
    text-shadow: 0 0 8px rgba(0, 255, 255, 0.4);
}

#page-about .favorites-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    text-align: center;
}

/* Vylep≈°en√© favorite city buttons */
#page-about .favorite-city {
    background: linear-gradient(135deg, rgba(0, 51, 102, 0.8), rgba(0, 51, 102, 0.6));
    border: 2px solid rgba(0, 255, 255, 0.3);
    border-radius: 25px;
    padding: 8px 16px;
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    text-align: center;
    backdrop-filter: blur(5px);
    position: relative;
    overflow: hidden;
}

#page-about .favorite-city::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

#page-about .favorite-city:hover::before {
    left: 100%;
}

#page-about .favorite-city:hover {
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 51, 102, 0.8));
    transform: translateY(-3px) scale(1.05);
    border-color: rgba(0, 255, 255, 0.6);
    box-shadow: 0 8px 20px rgba(0, 255, 255, 0.3);
}

#page-about .favorite-icon {
    margin-right: 8px;
    text-align: center;
    font-size: 1.1rem;
}

#page-about .remove-favorite {
    margin-left: 8px;
    font-size: 1rem;
    opacity: 0.7;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

#page-about .remove-favorite:hover {
    opacity: 1;
    color: #ff6b6b;
    transform: scale(1.2);
}

/* Footer s lep≈°√≠m stylem */
#page-about .footer {
    margin-top: 3rem;
    font-size: 0.9rem;
    opacity: 0.8;
    text-align: center;
    padding: 1rem;
    border-top: 1px solid rgba(0, 255, 255, 0.2);
    background: rgba(0, 255, 255, 0.05);
    border-radius: 10px;
    color: rgba(0, 255, 255, 0.8);
}

/* Star Trek Mode efekty */
#page-about.star-trek-mode .weather-icon,
#page-about.star-trek-mode .forecast-icon {
    font-family: 'Star Trek', sans-serif;
    animation: starTrekGlow 2s ease-in-out infinite alternate;
}

@keyframes starTrekGlow {
    0% { filter: drop-shadow(0 0 5px #0ff); }
    100% { filter: drop-shadow(0 0 15px #0ff); }
}

#page-about.star-trek-mode h1::before,
#page-about.star-trek-mode h1::after {
    content: "üññ";
    margin: 0 15px;
    text-align: center;
    animation: vulcanSalute 3s ease-in-out infinite;
}

@keyframes vulcanSalute {
    0%, 100% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(10deg) scale(1.1); }
}

/* Kontejner s vylep≈°en√Ωm designem */
.kontejner {
    width: 90%;
    max-width: 1200px;
    margin: 0 auto;
    background: linear-gradient(135deg, rgba(0, 51, 102, 0.9), rgba(0, 51, 102, 0.7));
    border-radius: 25px;
    border: 3px solid #3b82f6;
    box-shadow: 
        0 0 40px rgba(59, 130, 246, 0.4),
        inset 0 1px 3px rgba(255, 255, 255, 0.1);
    overflow: hidden;
    backdrop-filter: blur(15px);
    animation: containerGlow 4s ease-in-out infinite alternate;
    padding-bottom: 30px;
    position: relative;
}

@keyframes containerGlow {
    0% { 
        box-shadow: 0 0 40px rgba(59, 130, 246, 0.4);
        border-color: #3b82f6;
    }
    100% { 
        box-shadow: 0 0 60px rgba(59, 130, 246, 0.6);
        border-color: #60a5fa;
    }
}
#fullscreen-btn, #toggle-layout {
  background: linear-gradient(135deg, #0ff, #00b8d4);
  color: #001f3f;
  cursor: pointer;
  font-weight: bold;
  min-width: 160px;
  padding: 12px 20px;
  font-size: 1rem;
  border: none;
  border-radius: 12px;
  box-shadow: 
      0 4px 15px rgba(0, 255, 255, 0.3),
      inset 0 1px 3px rgba(255, 255, 255, 0.3);
  text-align: center;
  position: relative;
  overflow: hidden;
  transition: transform 0.2s ease, background-color 0.2s ease;
}

#fullscreen-btn:hover, #toggle-layout:hover {
  background-color: #2980b9;
  transform: translateY(-2px);
}

body.desktop-mode {
  zoom: 0.8;
  overflow-x: auto;
  background-color: #111;
}
/* ===== MEDIA QUERIES PRO MOBILN√ç ZA≈ò√çZEN√ç ===== */

/* Tablety a men≈°√≠ obrazovky (768px a m√©nƒõ) */
@media screen and (max-width: 768px) {
    
    /* Z√°kladn√≠ nastaven√≠ pro men≈°√≠ obrazovky */
    body {
        font-size: 14px;
        padding: 0 10px;
    }
    
    /* Navigace pro tablety */
    nav {
        padding: 8px;
        margin-bottom: 15px;
    }
    
    nav button {
        padding: 8px 12px;
        margin: 0 4px;
        font-size: 0.9rem;
    }
    
    /* Kontejnery pro tablety */
    #page-home .container,
    .kontejner {
        width: 95%;
        margin: 0 auto;
        border-radius: 15px;
    }
    
    /* Hlavn√≠ obsah */
    #page-home .main-content {
        padding: 20px;
    }
    
    /* Search sekce */
    #page-home .search-controls {
        flex-direction: column;
        gap: 10px;
    }
    
    #page-home .search-input {
        min-width: 100%;
        width: 100%;
    }
    
    /* Obluben√© polo≈æky */
    #page-home .favorites-list {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    /* Page-about pro tablety */
    #page-about h1 {
        font-size: 2rem;
        margin-bottom: 1rem;
    }
    
    #page-about .input-container {
        flex-direction: column;
        gap: 8px;
        padding: 8px;
    }
    
    #page-about input,
    #page-about button,
    #page-about select {
        width: 100%;
        margin: 0.3rem 0;
        font-size: 0.9rem;
    }
    
    #page-about .daily-forecast {
        gap: 10px;
        padding: 10px 0;
    }
    
    #page-about .forecast-day {
        min-width: 100px;
        padding: 12px;
    }
    
    #page-about .settings-row {
        flex-direction: column;
        gap: 15px;
        padding: 15px;
        width: 95%;
    }
    
    #page-about .toggle-container {
        width: 100%;
        justify-content: center;
    }
}

/* Mobiln√≠ telefony (576px a m√©nƒõ) */
@media screen and (max-width: 576px) {
    
    /* Z√°kladn√≠ nastaven√≠ pro mobily */
    body {
        font-size: 13px;
        padding: 0 5px;
    }
    
    /* Navigace pro mobily */
    nav {
        padding: 5px;
        margin-bottom: 10px;
        border-radius: 8px;
    }
    
    nav button {
        padding: 6px 10px;
        margin: 2px;
        font-size: 0.8rem;
        min-width: auto;
        flex: 1;
    }
    
    /* Flex kontejner pro navigaƒçn√≠ tlaƒç√≠tka */
    nav {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 5px;
    }
    
    /* Kontejnery pro mobily */
    #page-home .container,
    .kontejner {
        width: 98%;
        margin: 0 auto;
        border-radius: 10px;
        border-width: 1px;
    }
    
    /* Hlaviƒçky */
    #page-home .header {
        padding: 20px 15px;
    }
    
    #page-home .header h1 {
        font-size: 1.8rem;
        margin-bottom: 8px;
    }
    
    #page-home .header p {
        font-size: 1rem;
    }
    
    /* Hlavn√≠ obsah */
    #page-home .main-content {
        padding: 15px;
    }
    
    /* Search sekce */
    #page-home .search-section {
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 10px;
    }
    
    #page-home .search-controls {
        flex-direction: column;
        gap: 8px;
    }
    
    #page-home .search-input {
        width: 100%;
        padding: 12px 15px;
        font-size: 14px;
    }
    
    #page-home .btn {
        width: 100%;
        padding: 12px 20px;
        font-size: 14px;
        margin: 5px 0;
    }
    
    /* Obluben√© sekce */
    #page-home .favorites-section {
        padding: 15px;
        margin-bottom: 20px;
    }
    
    #page-home .favorites-section h3 {
        font-size: 1.1rem;
        margin-bottom: 15px;
    }
    
    #page-home .favorites-controls {
        flex-direction: column;
        gap: 8px;
    }
    
    #page-home .favorites-list {
        grid-template-columns: 1fr;
        gap: 8px;
    }
    
    #page-home .favorite-item {
        flex-direction: column;
        gap: 8px;
        padding: 12px;
    }
    
    #page-home .favorite-btn {
        width: 100%;
        padding: 10px;
    }
    
    #page-home .remove-btn {
        align-self: center;
        padding: 6px 10px;
    }
    
    /* Weather info pro mobily */
    #page-home .weather-info {
        padding: 20px 15px;
        margin-top: 20px;
        border-radius: 10px;
    }
    
    #page-home .weather-info h2 {
        font-size: 1.6rem;
        margin-bottom: 20px;
    }
    
    #page-home .weather-info h3 {
        font-size: 1.1rem;
        margin: 15px 0 10px 0;
    }
    
    /* Tabulky pro mobily */
    #page-home .current-conditions-table,
    #page-home .forecast-table {
        font-size: 0.8rem;
        overflow-x: auto;
        display: block;
        white-space: nowrap;
    }
    
    #page-home .current-conditions-table th,
    #page-home .current-conditions-table td,
    #page-home .forecast-table th,
    #page-home .forecast-table td {
        padding: 8px 6px;
        min-width: 80px;
    }
    
    /* Page-about pro mobily */
    #page-about h1 {
        font-size: 1.6rem;
        margin-bottom: 1rem;
        padding: 0 10px;
    }
    
    #page-about .input-container {
        flex-direction: column;
        gap: 6px;
        padding: 5px;
        width: 100%;
    }
    
    #page-about input,
    #page-about button,
    #page-about select {
        width: 100%;
        margin: 0.2rem 0;
        padding: 10px 12px;
        font-size: 0.9rem;
        min-width: auto;
    }
    
    #page-about #forecastDivPage2 {
        padding: 15px;
        margin-top: 15px;
        border-radius: 10px;
    }
    
    #page-about #forecastDivPage2 h2 {
        font-size: 1.3rem;
        margin-bottom: 15px;
    }
    
    /* Weather icon pro mobily */
    #page-about .weather-icon {
        font-size: 3rem;
        margin: 0.8rem 0;
    }
    
    #page-home .weather-icon {
        font-size: 1.2em;
    }
    
    /* Weather rows pro mobily */
    #page-about .weather-row {
        flex-direction: column;
        gap: 5px;
        padding: 10px;
        text-align: center;
    }
    
    #page-about .weather-label {
        font-size: 0.9rem;
        margin-bottom: 5px;
    }
    
    /* Daily forecast pro mobily */
    #page-about .daily-forecast {
        gap: 8px;
        padding: 10px 0;
    }
    
    #page-about .forecast-day {
        min-width: 90px;
        padding: 10px 8px;
        border-radius: 10px;
    }
    
    #page-about .forecast-icon {
        font-size: 2rem;
        margin: 8px 0;
    }
    
    #page-about .day-name {
        font-size: 0.8rem;
        margin-bottom: 6px;
    }
    
    #page-about .temp-range {
        font-size: 0.85rem;
    }
    
    /* Settings pro mobily */
    #page-about .settings-row {
        flex-direction: column;
        gap: 12px;
        padding: 12px;
        width: 98%;
        margin: 1rem auto;
    }
    
    #page-about .toggle-container {
        width: 100%;
        justify-content: center;
        flex-direction: column;
        gap: 10px;
    }
    
    #page-about .toggle-label {
        margin-right: 0;
        text-align: center;
        margin-bottom: 8px;
    }
    
    /* Favorites pro mobily */
    #page-about .favorites-container {
        padding: 12px;
        margin-top: 15px;
    }
    
    #page-about .favorites-title {
        font-size: 1.1rem;
        margin-bottom: 10px;
    }
    
    #page-about .favorites-list {
        flex-direction: column;
        gap: 8px;
    }
    
    #page-about .favorite-city {
        width: 100%;
        justify-content: center;
        padding: 10px 14px;
        font-size: 0.9rem;
    }
    
    /* Alert pro mobily */
    #page-about .alert {
        padding: 12px;
        font-size: 0.9rem;
        margin-top: 15px;
    }
    
    /* Tips pro mobily */
    #page-about .tips {
        padding: 15px;
        margin-top: 15px;
        font-size: 0.9rem;
    }
    
    /* Footer pro mobily */
    #page-about .footer {
        margin-top: 20px;
        padding: 12px;
        font-size: 0.8rem;
    }
    
    /* Last updated pro mobily */
    #page-about #lastUpdatedDivPage2 {
        font-size: 0.8rem;
        padding: 8px;
        margin-top: 15px;
    }
    
    /* Mod√°ln√≠ okna pro mobily */
    .modal-content {
        width: 95%;
        padding: 20px 15px;
        border-radius: 10px;
        margin: 0 10px;
    }
    
    .modal-message {
        font-size: 1rem;
        margin-bottom: 20px;
    }
    
    .modal-buttons {
        flex-direction: column;
        gap: 10px;
    }
    
    .modal-buttons button {
        width: 100%;
        padding: 12px;
        font-size: 0.9rem;
    }
    
    /* Fullscreen a toggle layout buttony */
    #fullscreen-btn, 
    #toggle-layout {
        min-width: 120px;
        padding: 10px 16px;
        font-size: 0.9rem;
    }
    
    /* Debug sekce pro mobily */
    #page-home .debug-section {
        padding: 15px;
        margin-top: 20px;
    }
    
    #page-home .debug-section pre {
        font-size: 10px;
        padding: 10px;
        overflow-x: auto;
    }
}

/* Extra mal√© mobily (400px a m√©nƒõ) */
@media screen and (max-width: 400px) {
    
    body {
        font-size: 12px;
        padding: 0 2px;
    }
    
    /* Navigace pro extra mal√© mobily */
    nav button {
        padding: 5px 8px;
        font-size: 0.7rem;
        margin: 1px;
    }
    
    /* Kontejnery */
    #page-home .container,
    .kontejner {
        width: 99%;
        border-radius: 8px;
    }
    
    /* Hlaviƒçky */
    #page-home .header {
        padding: 15px 10px;
    }
    
    #page-home .header h1 {
        font-size: 1.5rem;
    }
    
    #page-about h1 {
        font-size: 1.4rem;
        padding: 0 5px;
    }
    
    /* Hlavn√≠ obsah */
    #page-home .main-content {
        padding: 10px;
    }
    
    /* Search a dal≈°√≠ sekce */
    #page-home .search-section,
    #page-home .favorites-section,
    #page-about #forecastDivPage2 {
        padding: 10px;
        margin-bottom: 15px;
    }
    
    /* Inputy a buttony */
    #page-home .search-input,
    #page-home .btn,
    #page-about input,
    #page-about button,
    #page-about select {
        padding: 10px;
        font-size: 0.8rem;
    }
    
    /* Weather info */
    #page-home .weather-info {
        padding: 15px 10px;
    }
    
    #page-home .weather-info h2 {
        font-size: 1.4rem;
    }
    
    /* Tabulky */
    #page-home .current-conditions-table th,
    #page-home .current-conditions-table td,
    #page-home .forecast-table th,
    #page-home .forecast-table td {
        padding: 6px 4px;
        font-size: 0.7rem;
        min-width: 60px;
    }
    
    /* Forecast days */
    #page-about .forecast-day {
        min-width: 80px;
        padding: 8px 6px;
    }
    
    #page-about .forecast-icon {
        font-size: 1.8rem;
    }
    
    #page-about .weather-icon {
        font-size: 2.5rem;
    }
    
    /* Mod√°ln√≠ okna */
    .modal-content {
        width: 98%;
        padding: 15px 10px;
        margin: 0 5px;
    }
    
    .modal-message {
        font-size: 0.9rem;
    }
}

/* Landscape orientace na mobilech */
@media screen and (max-width: 768px) and (orientation: landscape) {
    
    /* Navigace v landscape */
    nav {
        padding: 5px;
        margin-bottom: 8px;
    }
    
    nav button {
        padding: 5px 10px;
        font-size: 0.8rem;
    }
    
    /* Hlaviƒçky v landscape */
    #page-home .header {
        padding: 15px 20px;
    }
    
    #page-home .header h1 {
        font-size: 1.8rem;
        margin-bottom: 5px;
    }
    
    #page-about h1 {
        font-size: 1.6rem;
        margin-bottom: 0.8rem;
    }
    
    /* Search controls v landscape */
    #page-home .search-controls {
        flex-direction: row;
        flex-wrap: wrap;
    }
    
    #page-home .search-input {
        flex: 2;
        min-width: 200px;
    }
    
    #page-home .btn {
        flex: 1;
        min-width: 100px;
    }
    
    /* Input container v landscape */
    #page-about .input-container {
        flex-direction: row;
        flex-wrap: wrap;
        gap: 8px;
    }
    
    #page-about input {
        flex: 2;
        min-width: 150px;
    }
    
    #page-about button,
    #page-about select {
        flex: 1;
        min-width: 100px;
    }
    
    /* Daily forecast v landscape */
    #page-about .daily-forecast {
        justify-content: flex-start;
    }
    
    #page-about .forecast-day {
        min-width: 110px;
    }
    
    /* Settings v landscape */
    #page-about .settings-row {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }
    
    #page-about .toggle-container {
        flex-direction: row;
        width: auto;
    }
}

/* Vylep≈°en√≠ pro dotykov√© obrazovky */
@media (hover: none) and (pointer: coarse) {
    
    /* Vƒõt≈°√≠ touch targets */
    #page-home .btn,
    #page-about button,
    nav button {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Remove hover efekty na touch za≈ô√≠zen√≠ch */
    #page-home .btn:hover,
    #page-about button:hover,
    nav button:hover {
        transform: none;
    }
    
    /* Aktivn√≠ stavy m√≠sto hover */
    #page-home .btn:active,
    #page-about button:active,
    nav button:active {
        transform: scale(0.95);
        transition: transform 0.1s;
    }
    
    /* Toggle switch pro touch */
    #page-about .toggle-switch {
        width: 70px;
        height: 35px;
    }
    
    #page-about .slider:before {
        height: 27px;
        width: 27px;
    }
    
    #page-about input:checked + .slider:before {
        transform: translateX(35px);
    }
}

/* Print styly */
@media print {
    
    body {
        background: white !important;
        color: black !important;
    }
    
    nav,
    #page-home .btn,
    #page-about button,
    .modal-content {
        display: none !important;
    }
    
    #page-home .container,
    .kontejner {
        box-shadow: none !important;
        border: 1px solid #ccc !important;
        background: white !important;
    }
    
    #page-home .weather-info,
    #page-about #forecastDivPage2 {
        background: white !important;
        color: black !important;
        border: 1px solid #ccc !important;
    }
}

/* Vysok√© rozli≈°en√≠ (Retina) */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 2dppx) {
    
    /* Ost≈ôej≈°√≠ okraje pro vysok√© rozli≈°en√≠ */
    #page-home .container,
    .kontejner,
    #page-home .search-section,
    #page-home .favorites-section,
    #page-about #forecastDivPage2 {
        border-width: 0.5px;
    }
    
    /* Jemnƒõj≈°√≠ st√≠ny */
    #page-home .btn,
    #page-about button {
        box-shadow: 
            0 2px 8px rgba(0, 255, 255, 0.2),
            inset 0 0.5px 1.5px rgba(255, 255, 255, 0.2);
    }
}
    </style>
</head>
<body>
    <nav>
        <button onclick="showPage('page-home')">Domovsk√° str√°nka</button>
        <button onclick="showPage('page-about')" style="display: none">Chytr√° p≈ôedpovƒõƒè</button>
        <button id="fullscreen-btn">üî≤ Cel√° obrazovka</button>
       
    </nav>
 
    <div class="container">
    <div id="page-home" class="page active">
        <div class="container">
            <button id="toggle-layout">üñ•Ô∏è P≈ôepnout na desktop</button>
    <p>Aktu√°ln√≠ layout: <span id="layout-status">mobiln√≠</span></p>
            <div class="header">
                <h1>üå§Ô∏è Futuristik√° Poƒças√≠ Stanice</h1>
                <p>Admir√°l Ji≈ô√≠k & Claude.AI - Mise: Poƒças√≠ bez hranic! üöÄ</p>
            </div>
            <div class="main-content">
                <div class="search-section">
                    <div class="search-controls">
                        <input type="text" id="cityInputPage1" class="search-input" placeholder="Zadej n√°zev mƒõsta (nap≈ô. Praha, Brno...)" value="Praha">
                        <button onclick="getWeatherPage1()" class="btn">üîç Z√≠skat poƒças√≠</button>
                        <button onclick="addToFavoritesPage1()" class="btn secondary">‚≠ê P≈ôidat k obl√≠ben√Ωm</button>
                    </div>
                </div>

                <div id="errorMessagePage1" class="message error-message"></div>
                <div id="successMessagePage1" class="message success-message"></div>
                <div id="loadingMessagePage1" class="message loading-message">
                    <div class="loading-spinner"></div>
                    Naƒç√≠t√°m poƒças√≠ z alternativn√≠ho API...
                </div>

                <div class="favorites-section">
                    <h3>üåü Obl√≠ben√° m√≠sta</h3>
                    <div class="favorites-controls">
                        <button onclick="clearAllFavorites()" class="btn danger">üóëÔ∏è Smazat v≈°e</button>
                        <button onclick="exportFavorites()" class="btn secondary">üíæ Export</button>
                        <button onclick="showDebugInfoPage1()" class="btn secondary">üêõ Debug</button>
                    </div>
                    <div id="favoritesList1" class="favorites-list"></div>
                </div>

                <div id="weatherInfoPage1" class="weather-info"></div>

                <div id="debugInfoPage1" class="debug-section">
                    <h3>üîß Debug informace</h3>
                    <div id="debugContentPage1"></div>
                </div>
            </div>
        </div>
        
        <div id="custom-modal" class="custom-modal">
            <div class="modal-content">
                <div id="modal-message" class="modal-message"></div>
                <div class="modal-buttons">
                    <button id="modal-confirm-btn" class="btn">‚úÖ Ano</button>
                    <button id="modal-cancel-btn" class="btn secondary">‚ùå Ne</button>
                </div>
            </div>
        </div>
    </div>

    <div id="page-about" class="page">
        <div class="kontejner">
        <h1>Chytr√° p≈ôedpovƒõƒè poƒças√≠</h1>
        <div class="settings-row">
                       <div class="toggle-container">
                <span class="toggle-label">Noƒçn√≠ re≈æim</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="nightModeToggle">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="toggle-container">
                <span class="toggle-label">Star Trek re≈æim</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="starTrekModeToggle">
                    <span class="slider"></span>
                </label>
            </div>
            <select id="unitsSelect">
                <option value="metric">¬∞C, m/s</option>
                <option value="imperial">¬∞F, mph</option>
            </select>
        </div>
        <div class="input-container">
            <input type="text" id="cityInputPage2" placeholder="Zadej mƒõsto" list="citySuggestions" />
            <datalist id="citySuggestions"></datalist>
            <button id="getWeatherPage2Btn">Z√≠skej p≈ôedpovƒõƒè</button>
            <button id="addFavoritePage2Btn" title="P≈ôidat do obl√≠ben√Ωch">‚ù§Ô∏è</button>
        </div>
        <div class="favorites-container">
            <div class="favorites-title">
                Obl√≠ben√° mƒõsta
            </div>
            <div class="favorites-list" id="favoritesList2"></div>
        </div>
        <div id="forecastDivPage2"></div>
        <div id="lastUpdatedDivPage2"></div>
        <div class="footer">
            Data poskytuje OpenWeatherMap | Vytvo≈ôeno s ‚ù§Ô∏è a üññ
        </div>
    </div>
</div>
    <script>
        // === KONFIGURACE A GLOB√ÅLN√ç PROMƒöNN√â ===

        // D≈ÆLE≈ΩIT√â: Pou≈æ√≠v√°me nov√Ω API kl√≠ƒç z druh√©ho k√≥du.
        // Pro produkƒçn√≠ nasazen√≠ zva≈æte backendov√© ≈ôe≈°en√≠ pro jeho zabezpeƒçen√≠.
        const OPENWEATHER_API_KEY = "bd3f6063df8394ca51477cce107c8960";
        const OPENWEATHER_BASE_URL = "https://api.openweathermap.org/data/2.5";
        const OPENWEATHER_GEOCODING_URL = "https://api.openweathermap.org/geo/1.0/direct";

        // Z√°lo≈æn√≠ wttr.in API (funguje bez kl√≠ƒçe, ale m√° m√©nƒõ detail≈Ø)
        const WTTR_BASE_URL = "https://wttr.in";

        let currentCityPage1 = ""; // Pro sledov√°n√≠ mƒõsta na prvn√≠ str√°nce

        // === MAPOV√ÅN√ç PODM√çNEK NA EMOJI (OpenWeatherMap weather IDs) ===
        // Kompletn√≠ seznam ID: https://openweathermap.org/weather-conditions
        const weatherIconMap = {
            200: '‚õàÔ∏è', 201: '‚õàÔ∏è', 202: '‚õàÔ∏è', 210: 'üå©Ô∏è', 211: 'üå©Ô∏è', 212: 'üå©Ô∏è', 221: 'üå©Ô∏è', 230: '‚õàÔ∏è', 231: '‚õàÔ∏è', 232: '‚õàÔ∏è', // Thunderstorm
            300: 'üå¶Ô∏è', 301: 'üå¶Ô∏è', 302: 'üåßÔ∏è', 310: 'üåßÔ∏è', 311: 'üåßÔ∏è', 312: 'üåßÔ∏è', 313: 'üåßÔ∏è', 314: 'üåßÔ∏è', 321: 'üåßÔ∏è', // Drizzle
            500: 'üåßÔ∏è', 501: 'üåßÔ∏è', 502: 'üåßÔ∏è', 503: 'üåßÔ∏è', 504: 'üåßÔ∏è', 511: 'üßä', 520: 'üå¶Ô∏è', 521: 'üå¶Ô∏è', 522: 'üåßÔ∏è', 531: 'üåßÔ∏è', // Rain
            600: 'üå®Ô∏è', 601: '‚ùÑÔ∏è', 602: '‚ùÑÔ∏è', 611: 'üßä', 612: 'üßä', 613: 'üßä', 615: 'üå®Ô∏è', 616: 'üå®Ô∏è', 620: 'üå®Ô∏è', 621: '‚ùÑÔ∏è', 622: '‚ùÑÔ∏è', // Snow
            701: 'üå´Ô∏è', 711: 'üí®', 721: 'üå´Ô∏è', 731: 'üí®', 741: 'üå´Ô∏è', 751: 'üí®', 761: 'üí®', 762: 'üåã', 771: 'üí®', 781: 'üå™Ô∏è', // Atmosphere
            800: '‚òÄÔ∏è', // Clear
            801: 'üå§Ô∏è', 802: '‚õÖ', 803: '‚òÅÔ∏è', 804: '‚òÅÔ∏è' // Clouds
        };

        /**
         * Slovn√≠k pro p≈ôeklad bƒõ≈æn√Ωch anglick√Ωch popis≈Ø poƒças√≠ (nap≈ô. z wttr.in) do ƒçe≈°tiny.
         */
        const weatherDescriptionTranslations = {
            "clear": "Jasno", "sunny": "Sluneƒçno", "partly cloudy": "ƒå√°steƒçnƒõ zata≈æeno",
            "cloudy": "Zata≈æeno", "overcast": "Zata≈æeno", "mist": "Mlha", "fog": "Mlha",
            "patchy rain nearby": "M√≠stn√≠ p≈ôeh√°≈àky", "light rain": "Lehk√Ω d√©≈°≈•",
            "moderate rain": "M√≠rn√Ω d√©≈°≈•", "heavy rain": "Siln√Ω d√©≈°≈•",
            "light snow": "Lehk√© snƒõ≈æen√≠", "moderate snow": "M√≠rn√© snƒõ≈æen√≠",
            "heavy snow": "Siln√© snƒõ≈æen√≠", "light drizzle": "Jemn√© mrholen√≠",
            "freezing fog": "Mrznouc√≠ mlha", "freezing drizzle": "Mrznouc√≠ mrholen√≠",
            "freezing rain": "Mrznouc√≠ d√©≈°≈•", "light freezing rain": "Lehk√Ω mrznouc√≠ d√©≈°≈•",
            "heavy freezing rain": "Siln√Ω mrznouc√≠ d√©≈°≈•", "thunderstorm": "Bou≈ôka",
            "light rain shower": "Lehk√° p≈ôeh√°≈àka", "rain shower": "P≈ôeh√°≈àka",
            "heavy rain shower": "Siln√° p≈ôeh√°≈àka", "light snow shower": "Lehk√° snƒõhov√° p≈ôeh√°≈àka",
            "snow shower": "Snƒõhov√° p≈ôeh√°≈àka", "heavy snow shower": "Siln√° snƒõhov√° p≈ôeh√°≈àka",
            "ice pellets": "Ledov√© krupky", "light sleet": "Lehk√Ω d√©≈°≈• se snƒõhem",
            "sleet": "D√©≈°≈• se snƒõhem", "blowing snow": "Z√°vƒõje", "blizzard": "V√°nice",
            "windy": "Vƒõtrno", "hail": "Krupobit√≠", "tornado": "Torn√°do",
            "dust": "Prach", "sand": "P√≠sek", "volcanic ash": "Sopeƒçn√Ω popel",
            "squalls": "P≈ôeh√°≈àky", "smoke": "Kou≈ô", "haze": "Opar", "drizzle": "Mrholen√≠",
            "light rain and snow": "Lehk√Ω d√©≈°≈• se snƒõhem", "moderate or heavy rain and snow": "M√≠rn√Ω nebo siln√Ω d√©≈°≈• se snƒõhem",
            "patchy light drizzle": "M√≠stn√≠ lehk√© mrholen√≠", "patchy light rain": "M√≠stn√≠ lehk√Ω d√©≈°≈•",
            "patchy moderate rain": "M√≠stn√≠ m√≠rn√Ω d√©≈°≈•", "patchy heavy rain": "M√≠stn√≠ siln√Ω d√©≈°≈•",
            "patchy light snow": "M√≠stn√≠ lehk√© snƒõ≈æen√≠", "patchy moderate snow": "M√≠stn√≠ m√≠rn√© snƒõ≈æen√≠",
            "patchy heavy snow": "M√≠stn√≠ siln√© snƒõ≈æen√≠", "patchy light sleet": "M√≠stn√≠ lehk√Ω d√©≈°≈• se snƒõhem",
            "patchy moderate or heavy sleet": "M√≠stn√≠ m√≠rn√Ω nebo siln√Ω d√©≈°≈• se snƒõhem",
            "patchy light freezing drizzle": "M√≠stn√≠ lehk√© mrznouc√≠ mrholen√≠",
            "thundery outbreaks in nearby": "Bou≈ôky v okol√≠", "patchy light rain with thunder": "M√≠stn√≠ lehk√Ω d√©≈°≈• s hromy",
            "moderate or heavy rain with thunder": "M√≠rn√Ω nebo siln√Ω d√©≈°≈• s hromy",
            "patchy light snow with thunder": "M√≠stn√≠ lehk√© snƒõ≈æen√≠ s hromy",
            "moderate or heavy snow with thunder": "M√≠rn√© nebo siln√© snƒõ≈æen√≠ s hromy",
            "light showers of ice pellets": "Lehk√© p≈ôeh√°≈àky ledov√Ωch krupek",
            "moderate or heavy showers of ice pellets": "M√≠rn√© nebo siln√© p≈ôeh√°≈àky ledov√Ωch krupek",
            "patchy light rain in area": "M√≠stn√≠ lehk√Ω d√©≈°≈• v oblasti",
            "patchy light snow in area": "M√≠stn√≠ lehk√© snƒõ≈æen√≠ v oblasti",
            "patchy light sleet in area": "M√≠stn√≠ lehk√Ω d√©≈°≈• se snƒõhem v oblasti",
            "patchy light freezing rain in area": "M√≠stn√≠ lehk√Ω mrznouc√≠ d√©≈°≈• v oblasti",
            "patchy light drizzle in area": "M√≠stn√≠ lehk√© mrholen√≠ v oblasti"
        };

        /**
         * Z√≠sk√° emoji ikonu na z√°kladƒõ ID nebo textov√©ho popisu poƒças√≠.
         * @param {number|null} iconId ID ikony (pro OpenWeatherMap).
         * @param {string} description Textov√Ω popis poƒças√≠ (pro wttr.in fallback).
         * @returns {string} Emoji ikona.
         */
        const getEmojiIcon = (iconId, description = '') => {
            if (iconId && weatherIconMap[iconId]) {
                return weatherIconMap[iconId];
            }

            // Fallback pro popisy (nap≈ô. z wttr.in)
            const lowerDesc = description.toLowerCase();
            if (lowerDesc.includes('clear') || lowerDesc.includes('sunny')) return '‚òÄÔ∏è';
            if (lowerDesc.includes('partly cloudy')) return '‚õÖ';
            if (lowerDesc.includes('cloudy') || lowerDesc.includes('overcast')) return '‚òÅÔ∏è';
            if (lowerDesc.includes('rain') || lowerDesc.includes('drizzle')) return 'üåßÔ∏è';
            if (lowerDesc.includes('snow') || lowerDesc.includes('sleet')) return 'üå®Ô∏è';
            if (lowerDesc.includes('fog') || lowerDesc.includes('mist')) return 'üå´Ô∏è';
            if (lowerDesc.includes('thunder') || lowerDesc.includes('storm')) return '‚õàÔ∏è';
            if (lowerDesc.includes('wind')) return 'üí®';
            if (lowerDesc.includes('patchy rain')) return 'üå¶Ô∏è';
            
            return '‚ùì';
        };

        /**
         * P≈ôelo≈æ√≠ anglick√Ω popis poƒças√≠ do ƒçe≈°tiny.
         * @param {string} description Anglick√Ω popis.
         * @returns {string} ƒåesk√Ω popis nebo p≈Øvodn√≠ anglick√Ω, pokud nen√≠ p≈ôeklad.
         */
        const translateDescription = (description) => {
            const lowerDesc = description.toLowerCase();
            return weatherDescriptionTranslations[lowerDesc] || description;
        };

        // === MOD√ÅLN√ç DIALOG (sd√≠len√Ω pro obƒõ str√°nky) ===
        let resolveModalPromise;

        function showCustomConfirm(message) {
            const modalOverlay = document.getElementById('custom-modal');
            const modalMessage = document.getElementById('modal-message');
            const confirmBtn = document.getElementById('modal-confirm-btn');
            const cancelBtn = document.getElementById('modal-cancel-btn');

            modalMessage.textContent = message;
            modalOverlay.classList.add('visible');

            return new Promise(resolve => {
                resolveModalPromise = resolve;

                const handleConfirm = () => {
                    modalOverlay.classList.remove('visible');
                    confirmBtn.removeEventListener('click', handleConfirm);
                    cancelBtn.removeEventListener('click', handleCancel);
                    resolve(true);
                };

                const handleCancel = () => {
                    modalOverlay.classList.remove('visible');
                    confirmBtn.removeEventListener('click', handleConfirm);
                    cancelBtn.removeEventListener('click', handleCancel);
                    resolve(false);
                };

                confirmBtn.addEventListener('click', handleConfirm);
                cancelBtn.addEventListener('click', handleCancel);
            });
        }

        // === SPR√ÅVA OBL√çBEN√ùCH M√çST (sd√≠len√° pro obƒõ str√°nky) ===
        function loadFavorites() {
            try {
                const favorites = localStorage.getItem('weatherFavorites');
                return favorites ? JSON.parse(favorites) : getDefaultFavorites();
            } catch (error) {
                console.error('Chyba p≈ôi naƒç√≠t√°n√≠ obl√≠ben√Ωch z localStorage:', error);
                showErrorMessagePage1('Chyba p≈ôi naƒç√≠t√°n√≠ obl√≠ben√Ωch m√≠st. Zkus to znovu.');
                return getDefaultFavorites();
            }
        }

        function getDefaultFavorites() {
            // Pou≈æ√≠v√°m Ji≈ô√≠kovy obl√≠ben√© lokace
            return [
                'Praha', 'Pelh≈ôimov', 'T√°bor', 'Brno', 'Ostrava', 'Plze≈à', 'Liberec', 'Olomouc',
                'ƒåesk√© Budƒõjovice', 'Hradec Kr√°lov√©', '√öst√≠ nad Labem', 'Pardubice',
                'Zl√≠n', 'Hav√≠≈ôov', 'Kladno', 'Most', 'Opava', 'Fr√Ωdek-M√≠stek',
                'Jihlava', 'Karvin√°', 'Teplice', 'Dƒõƒç√≠n', 'Humpolec', 'ƒåejov',
                'ƒåernovice u T√°bora', 'Hammamet', 'Vranov Nad Dyj√≠',
            ];
        }

        function saveFavorites(favorites) {
            try {
                localStorage.setItem('weatherFavorites', JSON.stringify(favorites));
                showSuccessMessagePage1('Obl√≠ben√© m√≠sta ulo≈æena! üíæ');
                return true;
            } catch (error) {
                console.error('Chyba p≈ôi ukl√°d√°n√≠ obl√≠ben√Ωch do localStorage:', error);
                showErrorMessagePage1('Chyba p≈ôi ukl√°d√°n√≠ do localStorage: ' + error.message);
                return false;
            }
        }

        // Funkce pro zobrazen√≠ obl√≠ben√Ωch na str√°nce 1
        function displayFavoritesPage1() {
            const favorites = loadFavorites();
            const favoritesListDiv = document.getElementById('favoritesList1');
            
            if (favorites.length === 0) {
                favoritesListDiv.innerHTML = '<p style="color: #90a0b8;">≈Ω√°dn√° obl√≠ben√° m√≠sta. P≈ôidej nƒõjak√©! üèôÔ∏è</p>';
                return;
            }

            let html = '';
            favorites.forEach((city, index) => {
                html += `
                    <div class="favorite-item">
                        <button onclick="getWeatherForCityPage1('${city}')" class="favorite-btn">üå§Ô∏è ${city}</button>
                        <button onclick="removeFavorite('${city}')" class="remove-btn">‚ùå</button>
                    </div>
                `;
            });
            favoritesListDiv.innerHTML = html;
        }

        // Funkce pro zobrazen√≠ obl√≠ben√Ωch na str√°nce 2
        function updateFavoritesPage2() {
            const favorites = loadFavorites(); // Pou≈æ√≠v√°me sd√≠len√© obl√≠ben√©
            const favoritesListDiv = document.getElementById('favoritesList2');
            favoritesListDiv.innerHTML = '';
            if (favorites.length === 0) {
                favoritesListDiv.innerHTML = '<span style="opacity: 0.7;">≈Ω√°dn√° obl√≠ben√° mƒõsta</span>';
                return;
            }
            favorites.forEach(city => {
                const favoriteItem = document.createElement('div');
                favoriteItem.className = 'favorite-city';
                favoriteItem.innerHTML = `
                    <span class="favorite-icon">‚ù§Ô∏è</span>
                    <span>${city}</span>
                    <span class="remove-favorite" data-city="${city}">‚úñ</span>
                `;
                const removeButton = favoriteItem.querySelector('.remove-favorite');
                removeButton.addEventListener('click', (event) => {
                    event.stopPropagation(); // Zabr√°nƒõn√≠ vyvol√°n√≠ ud√°losti na rodiƒçovsk√©m elementu
                    const cityToRemove = removeButton.dataset.city;
                    removeFavorite(cityToRemove); // Vol√°me sd√≠lenou funkci
                });
                favoriteItem.addEventListener('click', () => {
                    document.getElementById('cityInputPage2').value = city;
                    getWeatherForecastPage2();
                });
                favoritesListDiv.appendChild(favoriteItem);
            });
        }

        function addToFavoritesPage1() {
            const cityInput = document.getElementById("cityInputPage1").value.trim();
            addFavorite(cityInput); // Vol√°me sd√≠lenou funkci
        }

        function addFavoritePage2() {
            const cityToAdd = document.getElementById('cityInputPage2').value.trim();
            addFavorite(cityToAdd); // Vol√°me sd√≠lenou funkci
        }

        // Sd√≠len√° funkce pro p≈ôid√°n√≠ do obl√≠ben√Ωch
        function addFavorite(cityInput) {
            if (!cityInput) {
                showErrorMessagePage1('Zadej n√°zev mƒõsta, kter√© chce≈° p≈ôidat k obl√≠ben√Ωm! üèôÔ∏è');
                return;
            }

            const favorites = loadFavorites();
            
            if (favorites.includes(cityInput)) {
                showErrorMessagePage1(`Mƒõsto "${cityInput}" u≈æ m√°≈° v obl√≠ben√Ωch! ‚≠ê`);
                return;
            }

            favorites.push(cityInput);
            
            if (saveFavorites(favorites)) {
                displayFavoritesPage1(); // Aktualizovat zobrazen√≠ na str√°nce 1
                updateFavoritesPage2(); // Aktualizovat zobrazen√≠ na str√°nce 2
                showSuccessMessagePage1(`Mƒõsto "${cityInput}" p≈ôid√°no k obl√≠ben√Ωm! ‚≠ê`);
            }
        }

        // Sd√≠len√° funkce pro odebr√°n√≠ z obl√≠ben√Ωch
        async function removeFavorite(cityName) {
            const favorites = loadFavorites();
            const index = favorites.indexOf(cityName);
            
            if (index === -1) return; // Mƒõsto nen√≠ v obl√≠ben√Ωch

            const confirmed = await showCustomConfirm(`Opravdu chce≈° odebrat "${cityName}" z obl√≠ben√Ωch m√≠st?`);
            
            if (confirmed) {
                favorites.splice(index, 1);
                if (saveFavorites(favorites)) {
                    displayFavoritesPage1();
                    updateFavoritesPage2();
                    showSuccessMessagePage1(`Mƒõsto "${cityName}" odebr√°no z obl√≠ben√Ωch! üóëÔ∏è`);
                }
            }
        }

        async function clearAllFavorites() {
            const confirmed = await showCustomConfirm('Opravdu chce≈° smazat V≈†ECHNA obl√≠ben√° m√≠sta? Tato akce je nevratn√°!');
            
            if (confirmed) {
                if (saveFavorites([])) {
                    displayFavoritesPage1();
                    updateFavoritesPage2();
                    showSuccessMessagePage1('V≈°echna obl√≠ben√° m√≠sta smaz√°na! üßπ');
                }
            }
        }

        function exportFavorites() {
            const favorites = loadFavorites();
            const dataStr = JSON.stringify(favorites, null, 2);
            
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'weather_favorites_backup.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showSuccessMessagePage1('Obl√≠ben√° m√≠sta exportov√°na! üìÅ');
        }

        function getWeatherForCityPage1(cityName) {
            document.getElementById("cityInputPage1").value = cityName;
            getWeatherPage1();
        }

        // === POMOCN√â FUNKCE PRO ZPR√ÅVY (specifick√© pro str√°nku 1) ===
        function showErrorMessagePage1(message) {
            const errorDiv = document.getElementById("errorMessagePage1");
            errorDiv.textContent = message;
            errorDiv.style.display = "block";
            setTimeout(() => { errorDiv.style.display = "none"; }, 5000);
        }

        function showSuccessMessagePage1(message) {
            const successDiv = document.getElementById("successMessagePage1");
            successDiv.textContent = message;
            successDiv.style.display = "block";
            setTimeout(() => { successDiv.style.display = "none"; }, 3000);
        }

        function hideAllMessagesPage1() {
            document.getElementById("errorMessagePage1").style.display = "none";
            document.getElementById("successMessagePage1").style.display = "none";
        }

        // === DEBUG FUNKCE (specifick√© pro str√°nku 1) ===
        function showDebugInfoPage1() {
            const debugDiv = document.getElementById("debugInfoPage1");
            const debugContent = document.getElementById("debugContentPage1");
            
            try {
                const favorites = loadFavorites();
                const storageSize = JSON.stringify(favorites).length;
                
                let debugHtml = `
                    <p><strong>Poƒçet obl√≠ben√Ωch m√≠st:</strong> ${favorites.length}</p>
                    <p><strong>Velikost dat:</strong> ${storageSize} byt≈Ø</p>
                    <p><strong>Aktu√°ln√≠ mƒõsto:</strong> ${currentCityPage1 || '≈Ω√°dn√©'}</p>
                    <p><strong>Obsah 'weatherFavorites' v localStorage:</strong></p>
                    <pre style="background-color: #0f1825; padding: 10px; border-radius: 5px; overflow-x: auto;">
${JSON.stringify(favorites, null, 2)}
                    </pre>
                    <p><strong>API Status:</strong></p>
                    <pre style="background-color: #0f1825; padding: 10px; border-radius: 5px;">
OpenWeatherMap API: ${OPENWEATHER_API_KEY && OPENWEATHER_API_KEY !== "d4f6e1a4c5b3f8e2a9c7d1e6f3b8c2a5" ? 'Nakonfigurov√°no (vlastn√≠ kl√≠ƒç)' : 'Pou≈æ√≠v√° demo kl√≠ƒç (doporuƒçeno vymƒõnit!)'}
Z√°lo≈æn√≠ API: wttr.in (funguje bez kl√≠ƒçe)
                    </pre>
                `;
                
                debugContent.innerHTML = debugHtml;
                debugDiv.style.display = debugDiv.style.display === "none" ? "block" : "none";
            } catch (error) {
                debugContent.innerHTML = `<p style="color: #ff6b6b;">Chyba p≈ôi naƒç√≠t√°n√≠ debug informac√≠: ${error.message}</p>`;
                debugDiv.style.display = "block";
            }
        }

        // === Z√çSK√ÅN√ç DAT Z OPENWEATHERMAP API (sd√≠len√©) ===
        /**
         * Z√≠sk√° aktu√°ln√≠ poƒças√≠ a 5denn√≠ p≈ôedpovƒõƒè z OpenWeatherMap API.
         * @param {string} city N√°zev mƒõsta.
         * @param {string} units Jednotky ('metric' nebo 'imperial').
         * @returns {Promise<object|null>} Zform√°tovan√° data poƒças√≠ nebo null p≈ôi chybƒõ.
         */
        async function getWeatherFromOpenWeather(city, units = 'metric') {
            if (!OPENWEATHER_API_KEY || OPENWEATHER_API_KEY === "d4f6e1a4c5b3f8e2a9c7d1e6f3b8c2a5") {
                console.warn("OpenWeatherMap API kl√≠ƒç nen√≠ nastaven nebo je demo kl√≠ƒç. P≈ôeskoƒçeno na z√°lo≈æn√≠ API.");
                return null;
            }

            try {
                // Krok 1: Z√≠sk√°n√≠ zemƒõpisn√Ωch sou≈ôadnic (latitude, longitude)
                const geoUrl = `${OPENWEATHER_GEOCODING_URL}?q=${encodeURIComponent(city)}&limit=1&appid=${OPENWEATHER_API_KEY}`;
                console.log(`Vol√°m OpenWeatherMap Geocoding API: ${geoUrl}`);
                const geoResponse = await fetch(geoUrl);
                if (!geoResponse.ok) {
                    const errorText = await geoResponse.text();
                    console.error("Chyba p≈ôi OpenWeatherMap Geocoding API:", geoResponse.status, errorText);
                    throw new Error(`OpenWeatherMap Geocoding API vr√°tilo chybu ${geoResponse.status}: ${errorText || geoResponse.statusText}`);
                }
                const geoData = await geoResponse.json();
                console.log("OpenWeatherMap Geocoding Data:", geoData);

                if (geoData.length === 0) {
                    console.warn(`Mƒõsto "${city}" nenalezeno p≈ôes OpenWeatherMap Geocoding.`);
                    return null;
                }
                const { lat, lon, name, country } = geoData[0]; // Z√≠sk√°me n√°zev mƒõsta a zemi z geocodingu
                const cityName = `${name}, ${country}`; // Pro zobrazen√≠

                // Krok 2: Z√≠sk√°n√≠ aktu√°ln√≠ho poƒças√≠
                const currentUrl = `${OPENWEATHER_BASE_URL}/weather?lat=${lat}&lon=${lon}&appid=${OPENWEATHER_API_KEY}&units=${units}&lang=cz`;
                console.log(`Vol√°m OpenWeatherMap Current Weather API: ${currentUrl}`);
                const currentResponse = await fetch(currentUrl);
                if (!currentResponse.ok) {
                    const errorText = await currentResponse.text();
                    console.error("Chyba p≈ôi OpenWeatherMap Current Weather API:", currentResponse.status, errorText);
                    throw new Error(`OpenWeatherMap Current Weather API vr√°tilo chybu ${currentResponse.status}: ${errorText || currentResponse.statusText}`);
                }
                const currentData = await currentResponse.json();
                console.log("OpenWeatherMap Current Weather Data:", currentData);

                // Krok 3: Z√≠sk√°n√≠ 5denn√≠/3hodinov√© p≈ôedpovƒõdi
                const forecastUrl = `${OPENWEATHER_BASE_URL}/forecast?lat=${lat}&lon=${lon}&appid=${OPENWEATHER_API_KEY}&units=${units}&lang=cz`;
                console.log(`Vol√°m OpenWeatherMap 5-Day Forecast API: ${forecastUrl}`);
                const forecastResponse = await fetch(forecastUrl);
                if (!forecastResponse.ok) {
                    const errorText = await forecastResponse.text();
                    console.error("Chyba p≈ôi OpenWeatherMap 5-Day Forecast API:", forecastResponse.status, errorText);
                    throw new Error(`OpenWeatherMap 5-Day Forecast API vr√°tilo chybu ${forecastResponse.status}: ${errorText || forecastResponse.statusText}`);
                }
                const forecastData = await forecastResponse.json();
                console.log("OpenWeatherMap 5-Day Forecast Data:", forecastData);

                // --- Zform√°tov√°n√≠ dat do jednotn√© struktury pro zobrazen√≠ ---
                const formattedCurrent = {
                    cityName: cityName,
                    temperature: currentData.main.temp,
                    description: currentData.weather[0].description,
                    icon: currentData.weather[0].id, // OpenWeatherMap ID pro mapov√°n√≠ na emoji
                    feelsLike: currentData.main.feels_like,
                    humidity: currentData.main.humidity,
                    windSpeed: currentData.wind.speed,
                    windDirection: currentData.wind.deg, // Stupnƒõ, pro textovou reprezentaci bude pot≈ôeba p≈ôev√©st
                    pressure: currentData.main.pressure,
                    visibility: currentData.visibility / 1000, // z metr≈Ø na km
                    cloudCover: currentData.clouds.all,
                    sunrise: new Date(currentData.sys.sunrise * 1000).toLocaleTimeString('cs-CZ'),
                    sunset: new Date(currentData.sys.sunset * 1000).toLocaleTimeString('cs-CZ'),
                    lastUpdate: new Date(currentData.dt * 1000).toLocaleTimeString('cs-CZ')
                };

                const formattedForecast = [];
                const dailyForecastsMap = new Map(); // Pou≈æijeme Map pro uchov√°n√≠ unik√°tn√≠ch dn≈Ø a jejich dat

                forecastData.list.forEach(item => {
                    const date = new Date(item.dt * 1000);
                    const dateKey = date.toISOString().split('T')[0]; // Kl√≠ƒç "YYYY-MM-DD" pro unik√°tn√≠ den

                    // Zahrnujeme pouze p≈ôedpovƒõdi pro dne≈°ek a budouc√≠ dny (od p≈Ølnoci)
                    const today = new Date();
                    today.setHours(0, 0, 0, 0); // Normalizujeme dne≈°ek na zaƒç√°tek dne
                    const itemDay = new Date(date);
                    itemDay.setHours(0, 0, 0, 0); // Normalizujeme datum polo≈æky na zaƒç√°tek dne

                    if (itemDay.getTime() < today.getTime()) {
                        return; // P≈ôeskoƒç√≠me polo≈æky z minul√Ωch dn≈Ø
                    }

                    if (!dailyForecastsMap.has(dateKey)) {
                        // Prvn√≠ polo≈æka pro tento den
                        dailyForecastsMap.set(dateKey, {
                            date: date,
                            minTemp: item.main.temp_min,
                            maxTemp: item.main.temp_max,
                            dayDescription: item.weather[0].description,
                            dayIcon: item.weather[0].id,
                            nightDescription: item.weather[0].description, // V√Ωchoz√≠, up≈ôesn√≠me pozdƒõji
                            nightIcon: item.weather[0].id, // V√Ωchoz√≠, up≈ôesn√≠me pozdƒõji
                            hasRain: item.weather[0].main.toLowerCase().includes('rain') || item.weather[0].description.toLowerCase().includes('d√©≈°≈•'),
                            hasSnow: item.weather[0].main.toLowerCase().includes('snow') || item.weather[0].description.toLowerCase().includes('sn√≠h'),
                            hourlyData: [] // Ulo≈æ√≠me v≈°echna hodinov√° data pro tento den
                        });
                    } else {
                        // Aktualizujeme min/max teploty pro existuj√≠c√≠ den
                        const existingDay = dailyForecastsMap.get(dateKey);
                        existingDay.minTemp = Math.min(existingDay.minTemp, item.main.temp_min);
                        existingDay.maxTemp = Math.max(existingDay.maxTemp, item.main.temp_max);
                        if (item.weather[0].main.toLowerCase().includes('rain')) existingDay.hasRain = true;
                        if (item.weather[0].main.toLowerCase().includes('snow')) existingDay.hasSnow = true;
                    }
                    dailyForecastsMap.get(dateKey).hourlyData.push(item);
                });

                // P≈ôevedeme Map na pole, se≈ôad√≠me a up≈ôesn√≠me popisy den/noc
                Array.from(dailyForecastsMap.values())
                    .sort((a, b) => a.date - b.date) // Se≈ôad√≠me dny chronologicky
                    .slice(0, 6) // Vezmeme pouze prvn√≠ch 5 dn≈Ø
                    .forEach(day => {
                        // Najdeme reprezentativn√≠ polo≈æku pro den (nap≈ô. kolem poledne) a noc (nap≈ô. pozdn√≠ veƒçer/brzk√© r√°no)
                        const dayItem = day.hourlyData.find(h => new Date(h.dt * 1000).getHours() >= 10 && new Date(h.dt * 1000).getHours() <= 14) || day.hourlyData[0];
                        const nightItem = day.hourlyData.find(h => new Date(h.dt * 1000).getHours() >= 20 || new Date(h.dt * 1000).getHours() < 4) || day.hourlyData[day.hourlyData.length - 1];

                        formattedForecast.push({
                            date: day.date,
                            minTemp: day.minTemp,
                            maxTemp: day.maxTemp,
                            dayDescription: dayItem.weather[0].description,
                            dayIcon: dayItem.weather[0].id,
                            nightDescription: nightItem.weather[0].description,
                            nightIcon: nightItem.weather[0].id,
                            dayPrecipitationProbability: (day.hasRain || day.hasSnow) ? 'Ano' : 'Ne',
                            nightPrecipitationProbability: (day.hasRain || day.hasSnow) ? 'Ano' : 'Ne'
                        });
                    });

                return {
                    source: 'OpenWeatherMap',
                    current: formattedCurrent,
                    forecast: formattedForecast
                };

            } catch (error) {
                console.error("Chyba p≈ôi z√≠sk√°v√°n√≠ poƒças√≠ z OpenWeatherMap:", error);
                showErrorMessagePage1(`Chyba OpenWeatherMap: ${error.message}. Zkus√≠m z√°lo≈æn√≠ API.`);
                return null;
            }
        }

        // === Z√çSK√ÅN√ç DAT Z WTTR.IN API (z√°lo≈æn√≠, sd√≠len√©) ===
        /**
         * Z√≠sk√° aktu√°ln√≠ poƒças√≠ a p≈ôedpovƒõƒè z wttr.in API.
         * @param {string} city N√°zev mƒõsta.
         * @returns {Promise<object|null>} Zform√°tovan√° data poƒças√≠ nebo null p≈ôi chybƒõ.
         */
        async function getWeatherFromWttr(city) {
            try {
                const wttrUrl = `${WTTR_BASE_URL}/${encodeURIComponent(city)}?format=j1`;
                console.log(`Vol√°m wttr.in API: ${wttrUrl}`);
                const response = await fetch(wttrUrl);
                if (!response.ok) {
                    const errorText = await response.text();
                    console.error("Chyba p≈ôi wttr.in API:", response.status, errorText);
                    throw new Error(`wttr.in API vr√°tilo chybu ${response.status}: ${errorText || response.statusText}`);
                }
                const data = await response.json();
                console.log("wttr.in Data:", data);

                if (!data.current_condition || data.current_condition.length === 0 || !data.weather || data.weather.length === 0) {
                    throw new Error("Nepoda≈ôilo se z√≠skat data z wttr.in.");
                }

                const current = data.current_condition[0];
                const formattedCurrent = {
                    cityName: data.nearest_area && data.nearest_area.length > 0 ? `${data.nearest_area[0].areaName[0].value}, ${data.nearest_area[0].country[0].value}` : city,
                    temperature: parseFloat(current.temp_C),
                    description: translateDescription(current.weatherDesc[0].value), // P≈ôeklad
                    icon: null, // wttr.in nem√° p≈ô√≠mo ID pro mapov√°n√≠ na emoji, pou≈æijeme obecn√©
                    feelsLike: parseFloat(current.FeelsLikeC),
                    humidity: parseFloat(current.humidity),
                    windSpeed: parseFloat(current.windspeedKmph),
                    windDirection: current.winddir16Point,
                    pressure: parseFloat(current.pressure),
                    visibility: parseFloat(current.visibility),
                    cloudCover: parseFloat(current.cloudcover),
                    sunrise: data.weather[0].astronomy[0].sunrise,
                    sunset: data.weather[0].astronomy[0].sunset,
                    lastUpdate: new Date().toLocaleTimeString('cs-CZ') // wttr.in nem√° timestamp
                };

                const formattedForecast = data.weather.slice(0, 6).map(day => {
                    return {
                        date: new Date(day.date),
                        minTemp: parseFloat(day.mintempC),
                        maxTemp: parseFloat(day.maxtempC),
                        dayDescription: translateDescription(day.hourly[0].weatherDesc[0].value), // P≈ôeklad
                        dayIcon: null, // wttr.in nem√° ID
                        nightDescription: translateDescription(day.hourly[day.hourly.length - 1].weatherDesc[0].value), // P≈ôeklad
                        nightIcon: null,
                        dayPrecipitationProbability: parseFloat(day.hourly[0].chanceofrain), // Zjednodu≈°eno
                        nightPrecipitationProbability: parseFloat(day.hourly[day.hourly.length - 1].chanceofrain) // Zjednodu≈°eno
                    };
                });
                
                return {
                    source: 'wttr.in',
                    current: formattedCurrent,
                    forecast: formattedForecast
                };

            } catch (error) {
                console.error("Chyba p≈ôi z√≠sk√°v√°n√≠ poƒças√≠ z wttr.in:", error);
                return null;
            }
        }

        // === ZOBRAZEN√ç DAT POƒåAS√ç NA STR√ÅNCE 1 ===
        /**
         * Zobraz√≠ zform√°tovan√° data poƒças√≠ v HTML pro str√°nku 1.
         * @param {object} data Objekt s daty poƒças√≠ (current, forecast, source).
         */
        function displayWeatherDataPage1(data) {
            const weatherInfoDiv = document.getElementById("weatherInfoPage1");
            let htmlOutput = `<h2>Poƒças√≠ pro ${data.current.cityName} <span style="font-size: 0.7em; opacity: 0.7;">(Zdroj: ${data.source})</span></h2>`;

            // --- Aktu√°ln√≠ podm√≠nky v tabulce ---
            htmlOutput += `<h3>Aktu√°ln√≠ stav:</h3>`;
            htmlOutput += `<table class="current-conditions-table">`;
            htmlOutput += `<thead>
                                <tr>
                                    <th>Informace</th>
                                    <th>Hodnota</th>
                                </tr>
                            </thead>`;
            htmlOutput += `<tbody>`;

            // Data z aktu√°ln√≠ch podm√≠nek
            htmlOutput += `<tr><td>Teplota</td><td>${data.current.temperature.toFixed(1)}¬∞C</td></tr>`;
            htmlOutput += `<tr><td>Popis</td><td><span class="weather-icon">${getEmojiIcon(data.current.icon, data.current.description)}</span> ${data.current.description}</td></tr>`;
            htmlOutput += `<tr><td>Pocitov√° teplota</td><td>${data.current.feelsLike.toFixed(1)}¬∞C</td></tr>`;
            htmlOutput += `<tr><td>Vlhkost</td><td>${data.current.humidity}%</td></tr>`;
            htmlOutput += `<tr><td>V√≠tr</td><td>${data.current.windSpeed.toFixed(1)} km/h ${data.current.windDirection ? (data.source === 'OpenWeatherMap' ? `${data.current.windDirection}¬∞` : data.current.windDirection) : ''}</td></tr>`;
            
            if (data.current.pressure) htmlOutput += `<tr><td>Tlak</td><td>${data.current.pressure} hPa</td></tr>`;
            if (data.current.visibility) htmlOutput += `<tr><td>Viditelnost</td><td>${data.current.visibility.toFixed(1)} km</td></tr>`;
            if (data.current.cloudCover) htmlOutput += `<tr><td>Oblaƒçnost</td><td>${data.current.cloudCover}%</td></tr>`;
            
            if (data.source === 'OpenWeatherMap' && data.current.hasRain !== undefined) {
                htmlOutput += `<tr><td>Sr√°≈æky (den)</td><td>${data.current.hasRain ? 'Ano' : 'Ne'}</td></tr>`;
            } else if (data.source === 'wttr.in' && data.current.chanceofrain !== undefined) {
                htmlOutput += `<tr><td>≈†ance na d√©≈°≈•</td><td>${data.current.chanceofrain}%</td></tr>`;
            }

            if (data.current.sunrise && data.current.sunset) {
                htmlOutput += `<tr><td>V√Ωchod slunce</td><td>${data.current.sunrise}</td></tr>`;
                htmlOutput += `<tr><td>Z√°pad slunce</td><td>${data.current.sunset}</td></tr>`;
            }
            
            htmlOutput += `<tr><td>ƒåas aktualizace</td><td>${data.current.lastUpdate}</td></tr>`;
            
            htmlOutput += `</tbody></table>`;

            // --- P≈ôedpovƒõƒè na 6 dn√≠ v tabulce ---
            htmlOutput += `<h3>P≈ôedpovƒõƒè na 6 dn√≠:</h3>`;
            htmlOutput += `<table class="forecast-table">`;
            htmlOutput += `<thead>
                                <tr>
                                    <th>Datum</th>
                                    <th>Min. Teplota</th>
                                    <th>Max. Teplota</th>
                                    <th>Den</th>
                                    <th>Noc</th>
                                </tr>
                            </thead>`;
            htmlOutput += `<tbody>`;

            data.forecast.forEach(day => {
                const date = new Date(day.date).toLocaleDateString('cs-CZ', { weekday: 'short', day: 'numeric', month: 'numeric' });
                
                htmlOutput += `
                    <tr>
                        <td>${date}</td>
                        <td>${day.minTemp.toFixed(1)}¬∞C</td>
                        <td>${day.maxTemp.toFixed(1)}¬∞C</td>
                        <td>
                            <span class="weather-icon">${getEmojiIcon(day.dayIcon, day.dayDescription)}</span>
                            ${day.dayDescription}<br>
                            Sr√°≈æky: ${data.source === 'OpenWeatherMap' ? (day.dayPrecipitationProbability === 'Ano' ? 'Ano' : 'Ne') : (day.dayPrecipitationProbability + '%')}
                        </td>
                        <td>
                            <span class="weather-icon">${getEmojiIcon(day.nightIcon, day.nightDescription)}</span>
                            ${day.nightDescription}<br>
                            Sr√°≈æky: ${data.source === 'OpenWeatherMap' ? (day.nightPrecipitationProbability === 'Ano' ? 'Ano' : 'Ne') : (day.nightPrecipitationProbability + '%')}
                        </td>
                    </tr>
                `;
            });

            htmlOutput += `</tbody></table>`;

            weatherInfoDiv.innerHTML = htmlOutput;
            weatherInfoDiv.style.display = "block";
        }

        // === HLAVN√ç FUNKCE PRO POƒåAS√ç STR√ÅNKY 1 ===
        async function getWeatherPage1() {
            const cityInput = document.getElementById("cityInputPage1").value.trim();
            const weatherInfoDiv = document.getElementById("weatherInfoPage1");
            const loadingMessageDiv = document.getElementById("loadingMessagePage1");

            hideAllMessagesPage1();
            weatherInfoDiv.innerHTML = "";
            weatherInfoDiv.style.display = "none";
            loadingMessageDiv.style.display = "block";
            console.log(`Pokou≈°√≠m se z√≠skat poƒças√≠ pro: ${cityInput}`);
                
            if (!cityInput) {
                showErrorMessagePage1("Pros√≠m, zadej n√°zev mƒõsta, Ji≈ô√≠ku! Tohle nen√≠ futuristick√Ω kv√≠z, tady mus√≠me m√≠t vstup!");
                loadingMessageDiv.style.display = "none";
                return;
            }

            currentCityPage1 = cityInput;
            let weatherData = null;

            try {
                // Krok 1: Zkus√≠me OpenWeatherMap API
                console.log("Pokou≈°√≠m se z√≠skat poƒças√≠ z OpenWeatherMap pro str√°nku 1...");
                weatherData = await getWeatherFromOpenWeather(cityInput, 'metric'); // Str√°nka 1 v≈ædy metrick√© jednotky
                
                if (weatherData) {
                    console.log("Poƒças√≠ √∫spƒõ≈°nƒõ z√≠sk√°no z OpenWeatherMap pro str√°nku 1.");
                    displayWeatherDataPage1(weatherData);
                    showSuccessMessagePage1(`Poƒças√≠ pro ${cityInput} √∫spƒõ≈°nƒõ naƒçteno (zdroj: OpenWeatherMap)! üöÄ`);
                } else {
                    // Krok 2: Pokud OpenWeatherMap sel≈æe, zkus√≠me wttr.in API
                    console.log("OpenWeatherMap selhalo nebo nevr√°tilo data, zkou≈°√≠m z√°lo≈æn√≠ wttr.in pro str√°nku 1...");
                    weatherData = await getWeatherFromWttr(cityInput);

                    if (weatherData) {
                        console.log("Poƒças√≠ √∫spƒõ≈°nƒõ z√≠sk√°no ze z√°lo≈æn√≠ho wttr.in pro str√°nku 1.");
                        displayWeatherDataPage1(weatherData);
                        showSuccessMessagePage1(`Poƒças√≠ pro ${cityInput} √∫spƒõ≈°nƒõ naƒçteno (zdroj: wttr.in)! üõ∞Ô∏è`);
                    } else {
                        throw new Error('Nepoda≈ôilo se z√≠skat data z ≈æ√°dn√©ho API.');
                    }
                }

            } catch (error) {
                console.error("Koneƒçn√° chyba p≈ôi z√≠sk√°v√°n√≠ poƒças√≠ pro str√°nku 1:", error);
                showErrorMessagePage1(`Chyba p≈ôi komunikaci s API: ${error.message}. Zkus to znovu, nebo zkontroluj konzoli prohl√≠≈æeƒçe (F12 -> Console/Network) pro detailnƒõj≈°√≠ chyby, jako spr√°vn√Ω program√°tor!`);
            } finally {
                loadingMessageDiv.style.display = "none";
            }
        }

        // === FUNKCE SPECIFICK√â PRO STR√ÅNKU 2 ===

        // Funkce pro z√≠sk√°n√≠ emoji podle ID poƒças√≠ (pro str√°nku 2)
        function getWeatherEmojiPage2(weatherId, isStarTrek = false) {
            if (isStarTrek) {
                if (weatherId >= 200 && weatherId < 300) return 'üññ‚ö°'; // bou≈ôky
                if (weatherId >= 300 && weatherId < 400) return 'üññüíß'; // mrholen√≠
                if (weatherId >= 500 && weatherId < 600) return 'üññüåßÔ∏è'; // d√©≈°≈•
                if (weatherId >= 600 && weatherId < 700) return 'üññ‚ùÑÔ∏è'; // sn√≠h
                if (weatherId >= 700 && weatherId < 800) return 'üññüå´Ô∏è'; // mlha/opar
                if (weatherId === 800) return 'üññ‚òÄÔ∏è'; // jasno
                if (weatherId > 800) return 'üññ‚òÅÔ∏è'; // oblaƒçno
                return 'üññÔøΩ';
            } else {
                return getEmojiIcon(weatherId); // Pou≈æ√≠v√°me sd√≠lenou funkci
            }
        }

        // Funkce pro z√≠sk√°n√≠ n√°zvu dne v t√Ωdnu (pro str√°nku 2)
        function getDayNamePage2(date, isStarTrek = false) {
            const days = ['Nedƒõle', 'Pondƒõl√≠', '√öter√Ω', 'St≈ôeda', 'ƒåtvrtek', 'P√°tek', 'Sobota'];
            const starTrekDays = ['Hvƒõzdn√° nedƒõle', 'Federaƒçn√≠ pondƒõl√≠', 'Klingonsk√© √∫ter√Ω', 'Vulk√°nsk√° st≈ôeda', 'Borgsk√Ω ƒçtvrtek', 'Bajorsk√Ω p√°tek', 'Romulansk√° sobota'];

            return isStarTrek ? starTrekDays[date.getDay()] : days[date.getDay()];
        }

        // Funkce pro z√≠sk√°n√≠ dopl≈àuj√≠c√≠ch rad k poƒças√≠ (pro str√°nku 2)
        function getWeatherAdvicePage2(data, isStarTrek = false) {
            const temp = data.main.temp;
            const weatherId = data.weather[0].id;
            const wind = data.wind.speed;

            if (isStarTrek) {
                if (temp < 0) return "Brrr, chladno jako na Andorii! Vezmi si tepl√© obleƒçen√≠!";
                if (temp > 30) return "Horko jako na Vulk√°nu! Hodnƒõ tekutin a pokr√Ωvku hlavy!";
                if (weatherId >= 200 && weatherId < 300) return "Bou≈ôka jako na Ferenginar! Radƒõji z≈Østa≈à na palubƒõ!";
                if (weatherId >= 500 && weatherId < 600) return "D√©≈°≈• jako na Bajoru, vezmi si ≈°t√≠ty - tedy de≈°tn√≠k!";
                if (weatherId >= 600 && weatherId < 700) return "Sn√≠h jako na Delta Vega, pozor na chodn√≠ky!";
                if (wind > 10) return "Fouk√°n√≠ jako na Risa bƒõhem bou≈ôkov√© sez√≥ny!";
                if (weatherId === 800 && temp > 20) return "Perfektn√≠ den jako na holopalubƒõ! Ide√°ln√≠ na pr≈Øzkum!";
                return "≈Ωij dlouho a blaze!";
            } else {
                if (temp < 0) return "Vezmi si tepl√© obleƒçen√≠ a rukavice!";
                if (temp > 30) return "Nezapome≈à na pitn√Ω re≈æim a pokr√Ωvku hlavy!";
                if (weatherId >= 200 && weatherId < 300) return "Hroz√≠ bou≈ôky, radƒõji z≈Østa≈à doma!";
                if (weatherId >= 500 && weatherId < 600) return "Nezapome≈à na de≈°tn√≠k!";
                if (weatherId >= 600 && weatherId < 700) return "Pozor na kluzk√© chodn√≠ky!";
                if (wind > 10) return "Venku silnƒõ fouk√°, buƒè opatrn√Ω!";
                if (weatherId === 800 && temp > 20) return "Ide√°ln√≠ den na v√Ωlet!";
                return "";
            }
        }

        // Funkce pro konverzi jednotek teploty (pro str√°nku 2)
        function convertTemperaturePage2(value, fromUnit, toUnit) {
            if (fromUnit === toUnit) return value;
            if (typeof value === 'string') value = parseFloat(value);
            if (fromUnit === 'metric' && toUnit === 'imperial') {
                return (value * 9/5 + 32).toFixed(1);
            } else if (fromUnit === 'imperial' && toUnit === 'metric') {
                return ((value - 32) * 5/9).toFixed(1);
            }
            return value;
        }

        // Funkce pro konverzi rychlosti vƒõtru (pro str√°nku 2)
        function convertWindSpeedPage2(speed, fromUnit, toUnit) {
            if (fromUnit === toUnit) return speed;
            if (typeof speed === 'string') speed = parseFloat(speed);
            if (fromUnit === 'metric' && toUnit === 'imperial') {
                return (speed * 2.237).toFixed(1);
            } else if (fromUnit === 'imperial' && toUnit === 'metric') {
                return (speed / 2.237).toFixed(1);
            }
            return speed;
        }

        // Funkce pro z√≠sk√°n√≠ symbolu jednotek (pro str√°nku 2)
        function getUnitSymbolPage2(type) {
            const units = document.getElementById('unitsSelect').value;
            if (type === 'temp') {
                return units === 'metric' ? '¬∞C' : '¬∞F';
            } else if (type === 'speed') {
                return units === 'metric' ? 'm/s' : 'mph';
            }
            return '';
        }

        // Asynchronn√≠ funkce pro z√≠sk√°n√≠ a zobrazen√≠ p≈ôedpovƒõdi poƒças√≠ (pro str√°nku 2)
        async function getWeatherForecastPage2() {
            const cityInput = document.getElementById('cityInputPage2');
            const forecastDiv = document.getElementById('forecastDivPage2');
            const getWeatherBtn = document.getElementById('getWeatherPage2Btn');
            const lastUpdatedDiv = document.getElementById('lastUpdatedDivPage2');

            const city = cityInput.value.trim();

            if (!city) {
                forecastDiv.innerHTML = '<p class="alert">Zadej pros√≠m mƒõsto!</p>';
                return;
            }

            forecastDiv.innerHTML = '<p class="loading">Naƒç√≠t√°m data... üññ</p>';
            getWeatherBtn.disabled = true;

            try {
                const units = document.getElementById('unitsSelect').value;
                const isStarTrek = document.getElementById('starTrekModeToggle').checked;

                // Z√≠sk√°n√≠ aktu√°ln√≠ho poƒças√≠
                const weatherResponse = await fetch(`${OPENWEATHER_BASE_URL}/weather?q=${encodeURIComponent(city)}&units=${units}&lang=cz&appid=${OPENWEATHER_API_KEY}`);
                if (!weatherResponse.ok) {
                    if (weatherResponse.status === 404) {
                        throw new Error('Mƒõsto nenalezeno. Zkontroluj n√°zev mƒõsta.');
                    } else {
                        throw new Error(`Chyba p≈ôi naƒç√≠t√°n√≠ poƒças√≠: ${weatherResponse.status}`);
                    }
                }
                const weatherData = await weatherResponse.json();

                // Z√≠sk√°n√≠ p≈ôedpovƒõdi na 5 dn√≠
                const forecastResponse = await fetch(`${OPENWEATHER_BASE_URL}/forecast?q=${encodeURIComponent(city)}&units=${units}&lang=cz&appid=${OPENWEATHER_API_KEY}`);
                if (!forecastResponse.ok) {
                    throw new Error(`Chyba p≈ôi naƒç√≠t√°n√≠ 5denn√≠ p≈ôedpovƒõdi: ${forecastResponse.status}`);
                }
                const forecastData = await forecastResponse.json();

                // Extrakce dat z aktu√°ln√≠ho poƒças√≠
                const temp = weatherData.main.temp.toFixed(1);
                const feelsLike = weatherData.main.feels_like.toFixed(1);
                const humidity = weatherData.main.humidity;
                const pressure = weatherData.main.pressure;
                const weatherDescription = weatherData.weather[0].description;
                const weatherId = weatherData.weather[0].id;
                const windSpeed = weatherData.wind.speed;
                const cityName = weatherData.name;
                const country = weatherData.sys.country;
                const weatherEmoji = getWeatherEmojiPage2(weatherId, isStarTrek);
                const weatherAdvice = getWeatherAdvicePage2(weatherData, isStarTrek);
                const tempUnit = getUnitSymbolPage2('temp');
                const speedUnit = getUnitSymbolPage2('speed');

                // Detekce extr√©m≈Ø poƒças√≠ pro upozornƒõn√≠
                let alertMessage = '';
                if ((units === 'metric' && temp < -10) || (units === 'imperial' && temp < 14)) alertMessage += '‚ùÑÔ∏è Extr√©mn√≠ zima! ';
                if ((units === 'metric' && temp > 35) || (units === 'imperial' && temp > 95)) alertMessage += 'üî• Extr√©mn√≠ horko! ';
                if (humidity < 20) alertMessage += 'üíß N√≠zk√° vlhkost vzduchu! ';
                if (humidity > 90) alertMessage += 'üí¶ Vysok√° vlhkost vzduchu! ';
                if ((units === 'metric' && windSpeed > 15) || (units === 'imperial' && windSpeed > 33)) alertMessage += 'üå™Ô∏è Siln√Ω v√≠tr! ';

                // Zpracov√°n√≠ 5denn√≠ p≈ôedpovƒõdi
                const dailyForecasts = [];
                const today = new Date().setHours(0, 0, 0, 0);

                forecastData.list.forEach(item => {
                    const date = new Date(item.dt * 1000);
                    const dateDay = new Date(date).setHours(0, 0, 0, 0);
                    const diffDays = Math.floor((dateDay - today) / (1000 * 60 * 60 * 24));

                    if (diffDays >= -1 && diffDays < 7) {
                        const existingDay = dailyForecasts.find(day => day.dayIndex === diffDays);
                        if (!existingDay) {
                            dailyForecasts.push({
                                dayIndex: diffDays,
                                date: date,
                                temps: [item.main.temp],
                                icons: [item.weather[0].id],
                                descriptions: [item.weather[0].description]
                            });
                        } else {
                            existingDay.temps.push(item.main.temp);
                            existingDay.icons.push(item.weather[0].id);
                            existingDay.descriptions.push(item.weather[0].description);
                        }
                    }
                });

                // V√Ωpoƒçet pr≈Ømƒõrn√©, minim√°ln√≠ a maxim√°ln√≠ teploty a nejƒçastƒõj≈°√≠ ikony pro ka≈æd√Ω den
                dailyForecasts.forEach(day => {
                    day.avgTemp = (day.temps.reduce((a, b) => a + b, 0) / day.temps.length).toFixed(1);
                    day.minTemp = Math.min(...day.temps).toFixed(1);
                    day.maxTemp = Math.max(...day.temps).toFixed(1);

                    const iconCounts = {};
                    day.icons.forEach(icon => {
                        iconCounts[icon] = (iconCounts[icon] || 0) + 1;
                    });
                    let maxCount = 0;
                    let mostCommonIcon = day.icons[0];
                    for (const icon in iconCounts) {
                        if (iconCounts[icon] > maxCount) {
                            maxCount = iconCounts[icon];
                            mostCommonIcon = parseInt(icon);
                        }
                    }
                    day.mainIcon = mostCommonIcon;
                });

                // Sestaven√≠ HTML pro zobrazen√≠ p≈ôedpovƒõdi
                let forecastHTML = `
                    <h2>${isStarTrek ? 'Poƒças√≠ na planetƒõ' : 'Poƒças√≠ v'} ${cityName}, ${country}</h2>
                    <div class="weather-icon">${weatherEmoji}</div>
                    <div class="weather-row">
                        <span class="weather-label">üå°Ô∏è Teplota:</span>
                        <span>${temp} ${tempUnit} (pocitovƒõ: ${feelsLike} ${tempUnit})</span>
                    </div>
                    <div class="weather-row">
                        <span class="weather-label">üí® V√≠tr:</span>
                        <span>${windSpeed.toFixed(1)} ${speedUnit}</span>
                    </div>
                    <div class="weather-row">
                        <span class="weather-label">üíß Vlhkost:</span>
                        <span>${humidity} %</span>
                    </div>
                    <div class="weather-row">
                        <span class="weather-label">üîç Tlak:</span>
                        <span>${pressure} hPa</span>
                    </div>
                    <div class="weather-row">
                        <span class="weather-label">‚òÅÔ∏è Poƒças√≠:</span>
                        <span>${weatherDescription.charAt(0).toUpperCase() + weatherDescription.slice(1)}</span>
                    </div>
                    ${alertMessage ? `<div class="alert">${alertMessage}</div>` : ''}
                    ${weatherAdvice ? `<div class="tips">${weatherAdvice}</div>` : ''}

                    <div class="forecast-section">
                        <div class="forecast-title">${isStarTrek ? 'Hvƒõzdn√° p≈ôedpovƒõƒè na 5 dn√≠' : 'P≈ôedpovƒõƒè na 5 dn√≠'}</div>
                        <div class="daily-forecast">
                            ${dailyForecasts.map(day => `
                                <div class="forecast-day">
                                    <div class="day-name">${getDayNamePage2(day.date, isStarTrek)}</div>
                                    <div class="forecast-icon">${getWeatherEmojiPage2(day.mainIcon, isStarTrek)}</div>
                                    <div class="temp-range">${day.minTemp}${tempUnit} - ${day.maxTemp}${tempUnit}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;

                forecastDiv.innerHTML = forecastHTML;

                // Aktualizace ƒçasu posledn√≠ aktualizace
                const now = new Date();
                lastUpdatedDiv.textContent = `Posledn√≠ aktualizace: ${now.toLocaleString('cs-CZ')}`;

                // Ulo≈æen√≠ posledn√≠ho hledan√©ho mƒõsta
                localStorage.setItem('weatherLastCity', city);

            } catch (error) {
                console.error("Chyba p≈ôi z√≠sk√°v√°n√≠ dat pro str√°nku 2:", error);
                forecastDiv.innerHTML = `<p class="alert">Chyba: ${error.message}</p>`;
            } finally {
                getWeatherBtn.disabled = false;
            }
        }

        // === SPR√ÅVA STR√ÅNEK ===
        function showPage(pageId) {
            // Z√≠sk√°n√≠ v≈°ech "str√°nek"
            const pages = document.querySelectorAll('.page');

            // Skryt√≠ v≈°ech str√°nek
            pages.forEach(page => {
                page.classList.remove('active');
            });

            // Zobrazen√≠ po≈æadovan√© str√°nky
            document.getElementById(pageId).classList.add('active');

            // Speci√°ln√≠ inicializace pro str√°nky po p≈ôepnut√≠
            if (pageId === 'page-home') {
                displayFavoritesPage1(); // Zajist√≠, ≈æe obl√≠ben√© jsou v≈ædy aktu√°ln√≠
                // Pokud je pot≈ôeba, naƒç√≠st poƒças√≠ pro defaultn√≠ mƒõsto na str√°nce 1
                if (!document.getElementById("weatherInfoPage1").style.display || document.getElementById("weatherInfoPage1").style.display === "none") {
                    getWeatherPage1();
                }
            } else if (pageId === 'page-about') {
                updateFavoritesPage2(); // Zajist√≠, ≈æe obl√≠ben√© jsou v≈ædy aktu√°ln√≠
                // Naƒçten√≠ posledn√≠ho mƒõsta a zobrazen√≠ p≈ôedpovƒõdi pro str√°nku 2
                const lastCity = localStorage.getItem('weatherLastCity');
                if (lastCity) {
                    document.getElementById('cityInputPage2').value = lastCity;
                    getWeatherForecastPage2();
                } else {
                    // Pokud nen√≠ ≈æ√°dn√© posledn√≠ mƒõsto, zkus√≠ Praha
                    document.getElementById('cityInputPage2').value = 'Praha';
                    getWeatherForecastPage2();
                }
            }
        }

        // === INICIALIZACE P≈òI NAƒåTEN√ç STR√ÅNKY ===
        document.addEventListener('DOMContentLoaded', function() {
            // Elementy pro str√°nku 2
            const cityInputPage2 = document.getElementById('cityInputPage2');
            const getWeatherPage2Btn = document.getElementById('getWeatherPage2Btn');
            const addFavoritePage2Btn = document.getElementById('addFavoritePage2Btn');
            const nightModeToggle = document.getElementById('nightModeToggle');
            const starTrekModeToggle = document.getElementById('starTrekModeToggle');
            const unitsSelect = document.getElementById('unitsSelect');
            const suggestionsDatalist = document.getElementById('citySuggestions');

            // Seznam velk√Ωch ƒçesk√Ωch mƒõst pro automatick√© dopl≈àov√°n√≠ (pro str√°nku 2)
            const czechCities = [
                'Praha', 'Brno', 'Ostrava', 'Plze≈à', 'Liberec', 'Olomouc',
                'ƒåesk√© Budƒõjovice', 'Hradec Kr√°lov√©', '√öst√≠ nad Labem', 'Pardubice',
                'Zl√≠n', 'Hav√≠≈ôov', 'Kladno', 'Most', 'Opava', 'Fr√Ωdek-M√≠stek',
                'Jihlava', 'Karvin√°', 'Teplice', 'Dƒõƒç√≠n', 'Humpolec', 'ƒåejov',
                'ƒåernovice u T√°bora', 'T√°bor', 'Pelh≈ôimov' // P≈ôid√°no z Ji≈ô√≠kov√Ωch obl√≠ben√Ωch
            ];

            // Naplnƒõn√≠ datalistu n√°vrhy mƒõst (pro str√°nku 2)
            czechCities.forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                suggestionsDatalist.appendChild(option);
            });

            // Naƒçten√≠ u≈æivatelsk√Ωch nastaven√≠ z localStorage pro str√°nku 2
            if (localStorage.getItem('weatherNightMode') === 'true') {
                document.getElementById('page-about').classList.add('night-mode'); // Apply to page-about div
                nightModeToggle.checked = true;
            }

            if (localStorage.getItem('weatherStarTrekMode') === 'true') {
                document.getElementById('page-about').classList.add('star-trek-mode'); // Apply to page-about div
                starTrekModeToggle.checked = true;
            }

            if (localStorage.getItem('weatherUnits')) {
                unitsSelect.value = localStorage.getItem('weatherUnits');
            }

            // Event listenery pro str√°nku 1
            document.getElementById('cityInputPage1').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    getWeatherPage1();
                }
            });

            // Event listenery pro str√°nku 2
            getWeatherPage2Btn.addEventListener('click', getWeatherForecastPage2);

            cityInputPage2.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    getWeatherForecastPage2();
                }
            });

            addFavoritePage2Btn.addEventListener('click', addFavoritePage2);

            nightModeToggle.addEventListener('change', () => {
                document.getElementById('page-about').classList.toggle('night-mode');
                localStorage.setItem('weatherNightMode', nightModeToggle.checked);
            });

            starTrekModeToggle.addEventListener('change', () => {
                document.getElementById('page-about').classList.toggle('star-trek-mode');
                localStorage.setItem('weatherStarTrekMode', starTrekModeToggle.checked);
                getWeatherForecastPage2(); // Aktualizovat zobrazen√≠ s nov√Ωm re≈æimem
            });

            unitsSelect.addEventListener('change', () => {
                localStorage.setItem('weatherUnits', unitsSelect.value);
                getWeatherForecastPage2(); // Aktualizovat zobrazen√≠ s nov√Ωmi jednotkami
            });

            // Zobrazen√≠ domovsk√© str√°nky p≈ôi naƒçten√≠
            showPage('page-home');
            console.log('Poƒças√≠ aplikace naƒçtena! Obl√≠ben√° m√≠sta:', loadFavorites());
        });
        // FULLSCREEN BTN
const fullscreenBtn = document.getElementById('fullscreen-btn');

fullscreenBtn.addEventListener('click', () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen().catch(err => {
      alert(`Chyba p≈ôi p≈ôechodu do re≈æimu cel√© obrazovky: ${err.message}`);
    });
    fullscreenBtn.textContent = '‚ùé Ukonƒçit re≈æim cel√© obrazovky';
  } else {
    document.exitFullscreen();
    fullscreenBtn.textContent = 'üî≤ Cel√° obrazovka';
  }
});

document.addEventListener('fullscreenchange', () => {
  if (!document.fullscreenElement) {
    fullscreenBtn.textContent = 'üî≤ Cel√° obrazovka';
  }
});

// TOGGLE LAYOUT BTN
const toggleButton = document.getElementById('toggle-layout');
const layoutStatus = document.getElementById('layout-status');
const viewportMeta = document.getElementById('viewport-meta');

let isDesktop = false;

toggleButton.addEventListener('click', () => {
  isDesktop = !isDesktop;

  if (isDesktop) {
    document.body.classList.add('desktop-mode');
    viewportMeta.setAttribute('content', 'width=1024');
    toggleButton.textContent = 'üì± P≈ôepnout na mobil';
    layoutStatus.textContent = 'desktop';
  } else {
    document.body.classList.remove('desktop-mode');
    viewportMeta.setAttribute('content', 'width=device-width, initial-scale=1.0');
    toggleButton.textContent = 'üñ•Ô∏è P≈ôepnout na desktop';
    layoutStatus.textContent = 'mobiln√≠';
  }
});

    </script>
</body>
</html>
 
